{"version":3,"sources":["../../../src/utils/expand-responsive.ts"],"names":["expandResponsive","styles","theme","__breakpoints","isResponsive","toArrayValue","medias","media","computedStyles","key","value","Array","isArray","queries","slice","length","index"],"mappings":";;;;;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,MAAD;AAAA,SAAkB,UAACC,KAAD,EAAiB;AACjE;AACF;AACA;AACA;AACA;AACA;AACA;AACE,QAAI,CAACA,KAAK,CAACC,aAAX,EAA0B,OAAOF,MAAP;AARuC,+BASXC,KAAK,CAACC,aATK;AAAA,QASzDC,YATyD,wBASzDA,YATyD;AAAA,QAS3CC,YAT2C,wBAS3CA,YAT2C;AAAA,QAStBC,MATsB,wBAS7BC,KAT6B;AAWjE,QAAMC,cAAoB,GAAG,EAA7B;;AAEA,SAAK,IAAMC,GAAX,IAAkBR,MAAlB,EAA0B;AACxB,UAAIS,KAAK,GAAG,oBAAQT,MAAM,CAACQ,GAAD,CAAd,EAAqBP,KAArB,CAAZ;AAEA,UAAIQ,KAAK,IAAI,IAAb,EAAmB,SAHK,CAKxB;;AACAA,MAAAA,KAAK,GAAG,qBAASA,KAAT,KAAmBN,YAAY,CAACM,KAAD,CAA/B,GAAyCL,YAAY,CAACK,KAAD,CAArD,GAA+DA,KAAvE;;AAEA,UAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAL,EAA2B;AACzBF,QAAAA,cAAc,CAACC,GAAD,CAAd,GAAsBC,KAAtB;AACA;AACD;;AAED,UAAMG,OAAO,GAAGH,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAeR,MAAM,CAACS,MAAtB,EAA8BA,MAA9C;;AAEA,WAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGH,OAA5B,EAAqCG,KAAK,IAAI,CAA9C,EAAiD;AAC/C,YAAMT,KAAK,GAAGD,MAAH,oBAAGA,MAAM,CAAGU,KAAH,CAApB;;AAEA,YAAI,CAACT,KAAL,EAAY;AACVC,UAAAA,cAAc,CAACC,GAAD,CAAd,GAAsBC,KAAK,CAACM,KAAD,CAA3B;AACA;AACD;;AAEDR,QAAAA,cAAc,CAACD,KAAD,CAAd,GAAwBC,cAAc,CAACD,KAAD,CAAd,IAAyB,EAAjD;;AAEA,YAAIG,KAAK,CAACM,KAAD,CAAL,IAAgB,IAApB,EAA0B;AACxB;AACD;;AAEDR,QAAAA,cAAc,CAACD,KAAD,CAAd,CAAsBE,GAAtB,IAA6BC,KAAK,CAACM,KAAD,CAAlC;AACD;AACF;;AAED,WAAOR,cAAP;AACD,GA/C+B;AAAA,CAAzB","sourcesContent":["import { Dict, isObject, runIfFn } from \"@chakra-ui/utils\"\n\n/**\n * Expands an array or object syntax responsive style.\n *\n * @example\n * expandResponsive({ mx: [1, 2] })\n * // or\n * expandResponsive({ mx: { base: 1, sm: 2 } })\n *\n * // => { mx: 1, \"@media(min-width:<sm>)\": { mx: 2 } }\n */\nexport const expandResponsive = (styles: Dict) => (theme: Dict) => {\n  /**\n   * Before any style can be processed, the user needs to call `toCSSVar`\n   * which analyzes the theme's breakpoint and appends a `__breakpoints` property\n   * to the theme with more details of the breakpoints.\n   *\n   * To learn more, go here: packages/utils/src/responsive.ts #analyzeBreakpoints\n   */\n  if (!theme.__breakpoints) return styles\n  const { isResponsive, toArrayValue, media: medias } = theme.__breakpoints\n\n  const computedStyles: Dict = {}\n\n  for (const key in styles) {\n    let value = runIfFn(styles[key], theme)\n\n    if (value == null) continue\n\n    // converts the object responsive syntax to array syntax\n    value = isObject(value) && isResponsive(value) ? toArrayValue(value) : value\n\n    if (!Array.isArray(value)) {\n      computedStyles[key] = value\n      continue\n    }\n\n    const queries = value.slice(0, medias.length).length\n\n    for (let index = 0; index < queries; index += 1) {\n      const media = medias?.[index]\n\n      if (!media) {\n        computedStyles[key] = value[index]\n        continue\n      }\n\n      computedStyles[media] = computedStyles[media] || {}\n\n      if (value[index] == null) {\n        continue\n      }\n\n      computedStyles[media][key] = value[index]\n    }\n  }\n\n  return computedStyles\n}\n"],"file":"expand-responsive.js"}