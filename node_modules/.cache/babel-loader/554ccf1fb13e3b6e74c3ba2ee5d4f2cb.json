{"ast":null,"code":"import { asArray } from './array';\nimport { parentAutofocusables } from './DOMutils';\n\nvar getParents = function getParents(node, parents) {\n  if (parents === void 0) {\n    parents = [];\n  }\n\n  parents.push(node);\n\n  if (node.parentNode) {\n    getParents(node.parentNode, parents);\n  }\n\n  return parents;\n};\n\nexport var getCommonParent = function getCommonParent(nodeA, nodeB) {\n  var parentsA = getParents(nodeA);\n  var parentsB = getParents(nodeB);\n\n  for (var i = 0; i < parentsA.length; i += 1) {\n    var currentParent = parentsA[i];\n\n    if (parentsB.indexOf(currentParent) >= 0) {\n      return currentParent;\n    }\n  }\n\n  return false;\n};\nexport var getTopCommonParent = function getTopCommonParent(baseActiveElement, leftEntry, rightEntries) {\n  var activeElements = asArray(baseActiveElement);\n  var leftEntries = asArray(leftEntry);\n  var activeElement = activeElements[0];\n  var topCommon = false;\n  leftEntries.filter(Boolean).forEach(function (entry) {\n    topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\n    rightEntries.filter(Boolean).forEach(function (subEntry) {\n      var common = getCommonParent(activeElement, subEntry);\n\n      if (common) {\n        if (!topCommon || common.contains(topCommon)) {\n          topCommon = common;\n        } else {\n          topCommon = getCommonParent(common, topCommon);\n        }\n      }\n    });\n  });\n  return topCommon;\n};\nexport var allParentAutofocusables = function allParentAutofocusables(entries) {\n  return entries.reduce(function (acc, node) {\n    return acc.concat(parentAutofocusables(node));\n  }, []);\n};","map":{"version":3,"sources":["/Users/lin/Documents/Projects/solana-explorer-tutorial/node_modules/focus-lock/dist/es2015/utils/parenting.js"],"names":["asArray","parentAutofocusables","getParents","node","parents","push","parentNode","getCommonParent","nodeA","nodeB","parentsA","parentsB","i","length","currentParent","indexOf","getTopCommonParent","baseActiveElement","leftEntry","rightEntries","activeElements","leftEntries","activeElement","topCommon","filter","Boolean","forEach","entry","subEntry","common","contains","allParentAutofocusables","entries","reduce","acc","concat"],"mappings":"AAAA,SAASA,OAAT,QAAwB,SAAxB;AACA,SAASC,oBAAT,QAAqC,YAArC;;AACA,IAAIC,UAAU,GAAG,SAAbA,UAAa,CAAUC,IAAV,EAAgBC,OAAhB,EAAyB;AACtC,MAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,IAAAA,OAAO,GAAG,EAAV;AAAe;;AACzCA,EAAAA,OAAO,CAACC,IAAR,CAAaF,IAAb;;AACA,MAAIA,IAAI,CAACG,UAAT,EAAqB;AACjBJ,IAAAA,UAAU,CAACC,IAAI,CAACG,UAAN,EAAkBF,OAAlB,CAAV;AACH;;AACD,SAAOA,OAAP;AACH,CAPD;;AAQA,OAAO,IAAIG,eAAe,GAAG,SAAlBA,eAAkB,CAAUC,KAAV,EAAiBC,KAAjB,EAAwB;AACjD,MAAIC,QAAQ,GAAGR,UAAU,CAACM,KAAD,CAAzB;AACA,MAAIG,QAAQ,GAAGT,UAAU,CAACO,KAAD,CAAzB;;AACA,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACG,MAA7B,EAAqCD,CAAC,IAAI,CAA1C,EAA6C;AACzC,QAAIE,aAAa,GAAGJ,QAAQ,CAACE,CAAD,CAA5B;;AACA,QAAID,QAAQ,CAACI,OAAT,CAAiBD,aAAjB,KAAmC,CAAvC,EAA0C;AACtC,aAAOA,aAAP;AACH;AACJ;;AACD,SAAO,KAAP;AACH,CAVM;AAWP,OAAO,IAAIE,kBAAkB,GAAG,SAArBA,kBAAqB,CAAUC,iBAAV,EAA6BC,SAA7B,EAAwCC,YAAxC,EAAsD;AAClF,MAAIC,cAAc,GAAGpB,OAAO,CAACiB,iBAAD,CAA5B;AACA,MAAII,WAAW,GAAGrB,OAAO,CAACkB,SAAD,CAAzB;AACA,MAAII,aAAa,GAAGF,cAAc,CAAC,CAAD,CAAlC;AACA,MAAIG,SAAS,GAAG,KAAhB;AACAF,EAAAA,WAAW,CAACG,MAAZ,CAAmBC,OAAnB,EAA4BC,OAA5B,CAAoC,UAAUC,KAAV,EAAiB;AACjDJ,IAAAA,SAAS,GAAGhB,eAAe,CAACgB,SAAS,IAAII,KAAd,EAAqBA,KAArB,CAAf,IAA8CJ,SAA1D;AACAJ,IAAAA,YAAY,CAACK,MAAb,CAAoBC,OAApB,EAA6BC,OAA7B,CAAqC,UAAUE,QAAV,EAAoB;AACrD,UAAIC,MAAM,GAAGtB,eAAe,CAACe,aAAD,EAAgBM,QAAhB,CAA5B;;AACA,UAAIC,MAAJ,EAAY;AACR,YAAI,CAACN,SAAD,IAAcM,MAAM,CAACC,QAAP,CAAgBP,SAAhB,CAAlB,EAA8C;AAC1CA,UAAAA,SAAS,GAAGM,MAAZ;AACH,SAFD,MAGK;AACDN,UAAAA,SAAS,GAAGhB,eAAe,CAACsB,MAAD,EAASN,SAAT,CAA3B;AACH;AACJ;AACJ,KAVD;AAWH,GAbD;AAcA,SAAOA,SAAP;AACH,CApBM;AAqBP,OAAO,IAAIQ,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAUC,OAAV,EAAmB;AACpD,SAAOA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe/B,IAAf,EAAqB;AAAE,WAAO+B,GAAG,CAACC,MAAJ,CAAWlC,oBAAoB,CAACE,IAAD,CAA/B,CAAP;AAAgD,GAAtF,EAAwF,EAAxF,CAAP;AACH,CAFM","sourcesContent":["import { asArray } from './array';\nimport { parentAutofocusables } from './DOMutils';\nvar getParents = function (node, parents) {\n    if (parents === void 0) { parents = []; }\n    parents.push(node);\n    if (node.parentNode) {\n        getParents(node.parentNode, parents);\n    }\n    return parents;\n};\nexport var getCommonParent = function (nodeA, nodeB) {\n    var parentsA = getParents(nodeA);\n    var parentsB = getParents(nodeB);\n    for (var i = 0; i < parentsA.length; i += 1) {\n        var currentParent = parentsA[i];\n        if (parentsB.indexOf(currentParent) >= 0) {\n            return currentParent;\n        }\n    }\n    return false;\n};\nexport var getTopCommonParent = function (baseActiveElement, leftEntry, rightEntries) {\n    var activeElements = asArray(baseActiveElement);\n    var leftEntries = asArray(leftEntry);\n    var activeElement = activeElements[0];\n    var topCommon = false;\n    leftEntries.filter(Boolean).forEach(function (entry) {\n        topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\n        rightEntries.filter(Boolean).forEach(function (subEntry) {\n            var common = getCommonParent(activeElement, subEntry);\n            if (common) {\n                if (!topCommon || common.contains(topCommon)) {\n                    topCommon = common;\n                }\n                else {\n                    topCommon = getCommonParent(common, topCommon);\n                }\n            }\n        });\n    });\n    return topCommon;\n};\nexport var allParentAutofocusables = function (entries) {\n    return entries.reduce(function (acc, node) { return acc.concat(parentAutofocusables(node)); }, []);\n};\n"]},"metadata":{},"sourceType":"module"}