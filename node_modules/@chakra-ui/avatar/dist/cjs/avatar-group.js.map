{"version":3,"sources":["../../src/avatar-group.tsx"],"names":["AvatarGroup","props","ref","styles","children","borderColor","max","spacing","borderRadius","rest","validChildren","childrenWithinMax","slice","excess","length","reversedChildren","reverse","clones","map","child","index","isFirstAvatar","childProps","marginEnd","size","showBorder","React","cloneElement","groupStyles","display","alignItems","justifyContent","flexDirection","excessStyles","marginStart","baseStyle","excessLabel","className","__DEV__","displayName"],"mappings":";;;;;AAAA;;AAUA;;AACA;;AACA;;AACA;;;;;;;;;;AAyBA;AACA;AACA;AACO,IAAMA,WAAW,gBAAG,wBAAoC,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAC7E,MAAMC,MAAM,GAAG,iCAAoB,QAApB,EAA8BF,KAA9B,CAAf;;AAD6E,0BAUzE,8BAAiBA,KAAjB,CAVyE;AAAA,MAI3EG,QAJ2E,qBAI3EA,QAJ2E;AAAA,MAK3EC,WAL2E,qBAK3EA,WAL2E;AAAA,MAM3EC,GAN2E,qBAM3EA,GAN2E;AAAA,gDAO3EC,OAP2E;AAAA,MAO3EA,OAP2E,sCAOjE,UAPiE;AAAA,gDAQ3EC,YAR2E;AAAA,MAQ3EA,YAR2E,sCAQ5D,MAR4D;AAAA,MASxEC,IATwE;;AAY7E,MAAMC,aAAa,GAAG,kCAAiBN,QAAjB,CAAtB;AAEA;AACF;AACA;;AACE,MAAMO,iBAAiB,GAAGL,GAAG,GAAGI,aAAa,CAACE,KAAd,CAAoB,CAApB,EAAuBN,GAAvB,CAAH,GAAiCI,aAA9D;AAEA;AACF;AACA;;AACE,MAAMG,MAAM,GAAGP,GAAG,IAAI,IAAP,IAAeI,aAAa,CAACI,MAAd,GAAuBR,GAArD;AAEA;AACF;AACA;AACA;;AACE,MAAMS,gBAAgB,GAAGJ,iBAAiB,CAACK,OAAlB,EAAzB;AAEA,MAAMC,MAAM,GAAGF,gBAAgB,CAACG,GAAjB,CAAqB,UAACC,KAAD,EAAQC,KAAR,EAAkB;AAAA;;AACpD,QAAMC,aAAa,GAAGD,KAAK,KAAK,CAAhC;AAEA,QAAME,UAAU,GAAG;AACjBC,MAAAA,SAAS,EAAEF,aAAa,GAAG,CAAH,GAAOd,OADd;AAEjBiB,MAAAA,IAAI,EAAEvB,KAAK,CAACuB,IAFK;AAGjBnB,MAAAA,WAAW,2BAAEc,KAAK,CAAClB,KAAN,CAAYI,WAAd,oCAA6BA,WAHvB;AAIjBoB,MAAAA,UAAU,EAAE;AAJK,KAAnB;AAOA,wBAAOC,KAAK,CAACC,YAAN,CAAmBR,KAAnB,EAA0B,4BAAgBG,UAAhB,CAA1B,CAAP;AACD,GAXc,CAAf;AAaA,MAAMM,WAA8B,GAAG;AACrCC,IAAAA,OAAO,EAAE,MAD4B;AAErCC,IAAAA,UAAU,EAAE,QAFyB;AAGrCC,IAAAA,cAAc,EAAE,UAHqB;AAIrCC,IAAAA,aAAa,EAAE;AAJsB,GAAvC;;AAOA,MAAMC,YAA+B;AACnCzB,IAAAA,YAAY,EAAZA,YADmC;AAEnC0B,IAAAA,WAAW,EAAE3B;AAFsB,KAGhC4B,iBAHgC,EAIhChC,MAAM,CAACiC,WAJyB,CAArC;;AAOA,sBACE,oBAAC,cAAD,CAAQ,GAAR;AACE,IAAA,GAAG,EAAElC,GADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAE0B;AAHT,KAIMnB,IAJN;AAKE,IAAA,SAAS,EAAE,eAAG,sBAAH,EAA2BR,KAAK,CAACoC,SAAjC;AALb,MAOGxB,MAAM,GAAG,CAAT,iBACC,oBAAC,cAAD,CAAQ,IAAR;AAAa,IAAA,SAAS,EAAC,uBAAvB;AAA+C,IAAA,KAAK,EAAEoB;AAAtD,WACOpB,MADP,CARJ,EAYGI,MAZH,CADF;AAgBD,CAzE0B,CAApB;;;AA2EP,IAAIqB,cAAJ,EAAa;AACXtC,EAAAA,WAAW,CAACuC,WAAZ,GAA0B,aAA1B;AACD","sourcesContent":["import {\n  chakra,\n  forwardRef,\n  omitThemingProps,\n  SystemProps,\n  SystemStyleObject,\n  ThemingProps,\n  useMultiStyleConfig,\n  HTMLChakraProps,\n} from \"@chakra-ui/system\"\nimport { cx, filterUndefined, __DEV__ } from \"@chakra-ui/utils\"\nimport { getValidChildren } from \"@chakra-ui/react-utils\"\nimport * as React from \"react\"\nimport { baseStyle } from \"./avatar\"\n\ninterface AvatarGroupOptions {\n  /**\n   * The children of the avatar group.\n   *\n   * Ideally should be `Avatar` and `MoreIndicator` components\n   */\n  children: React.ReactNode\n  /**\n   * The space between the avatars in the group.\n   * @type SystemProps[\"margin\"]\n   */\n  spacing?: SystemProps[\"margin\"]\n  /**\n   * The maximum number of visible avatars\n   */\n  max?: number\n}\n\nexport interface AvatarGroupProps\n  extends AvatarGroupOptions,\n    Omit<HTMLChakraProps<\"div\">, \"children\">,\n    ThemingProps<\"Avatar\"> {}\n\n/**\n * AvatarGroup displays a number of avatars grouped together in a stack.\n */\nexport const AvatarGroup = forwardRef<AvatarGroupProps, \"div\">((props, ref) => {\n  const styles = useMultiStyleConfig(\"Avatar\", props)\n\n  const {\n    children,\n    borderColor,\n    max,\n    spacing = \"-0.75rem\",\n    borderRadius = \"full\",\n    ...rest\n  } = omitThemingProps(props)\n\n  const validChildren = getValidChildren(children)\n\n  /**\n   * get the avatars within the max\n   */\n  const childrenWithinMax = max ? validChildren.slice(0, max) : validChildren\n\n  /**\n   * get the remaining avatar count\n   */\n  const excess = max != null && validChildren.length - max\n\n  /**\n   * Reversing the children is a great way to avoid using zIndex\n   * to overlap the avatars\n   */\n  const reversedChildren = childrenWithinMax.reverse()\n\n  const clones = reversedChildren.map((child, index) => {\n    const isFirstAvatar = index === 0\n\n    const childProps = {\n      marginEnd: isFirstAvatar ? 0 : spacing,\n      size: props.size,\n      borderColor: child.props.borderColor ?? borderColor,\n      showBorder: true,\n    }\n\n    return React.cloneElement(child, filterUndefined(childProps))\n  })\n\n  const groupStyles: SystemStyleObject = {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    flexDirection: \"row-reverse\",\n  }\n\n  const excessStyles: SystemStyleObject = {\n    borderRadius,\n    marginStart: spacing,\n    ...baseStyle,\n    ...styles.excessLabel,\n  }\n\n  return (\n    <chakra.div\n      ref={ref}\n      role=\"group\"\n      __css={groupStyles}\n      {...rest}\n      className={cx(\"chakra-avatar__group\", props.className)}\n    >\n      {excess > 0 && (\n        <chakra.span className=\"chakra-avatar__excess\" __css={excessStyles}>\n          {`+${excess}`}\n        </chakra.span>\n      )}\n      {clones}\n    </chakra.div>\n  )\n})\n\nif (__DEV__) {\n  AvatarGroup.displayName = \"AvatarGroup\"\n}\n"],"file":"avatar-group.js"}