{"version":3,"sources":["../../src/toast.class.tsx"],"names":["portalId","Toaster","methods","createToast","notify","removeAll","closeAll","closeToast","close","updateToast","update","isToastActive","isActive","message","options","id","isBrowser","portal","existingPortal","document","getElementById","div","createElement","body","appendChild","bindFunctions","toast"],"mappings":";;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;AAQA,IAAMA,QAAQ,GAAG,qBAAjB;;IAEMC,O;AAOJ;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE,mBAAc;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,yCAkBU,UAACC,OAAD,EAA2B;AACjD,IAAA,KAAI,CAACC,WAAL,GAAmBD,OAAO,CAACE,MAA3B;AACA,IAAA,KAAI,CAACC,SAAL,GAAiBH,OAAO,CAACI,QAAzB;AACA,IAAA,KAAI,CAACC,UAAL,GAAkBL,OAAO,CAACM,KAA1B;AACA,IAAA,KAAI,CAACC,WAAL,GAAmBP,OAAO,CAACQ,MAA3B;AACA,IAAA,KAAI,CAACC,aAAL,GAAqBT,OAAO,CAACU,QAA7B;AACD,GAxBa;;AAAA,kCA0BL,UAACC,OAAD,EAAwBC,OAAxB;AAAA,QAAwBA,OAAxB;AAAwBA,MAAAA,OAAxB,GAAyD,EAAzD;AAAA;;AAAA,WACP,KAAI,CAACX,WADE,oBACP,KAAI,CAACA,WAAL,CAAmBU,OAAnB,EAA4BC,OAA5B,CADO;AAAA,GA1BK;;AAAA,iCA6BN,UAACC,EAAD,EAAiB;AACvB,IAAA,KAAI,CAACR,UAAL,oBAAA,KAAI,CAACA,UAAL,CAAkBQ,EAAlB;AACD,GA/Ba;;AAAA,oCAiCH,UAACD,OAAD,EAAqC;AAC9C,IAAA,KAAI,CAACT,SAAL,oBAAA,KAAI,CAACA,SAAL,CAAiBS,OAAjB;AACD,GAnCa;;AAAA,kCAqCL,UAACC,EAAD,EAAcD,OAAd,EAAsD;AAAA,QAAxCA,OAAwC;AAAxCA,MAAAA,OAAwC,GAAP,EAAO;AAAA;;AAC7D,IAAA,KAAI,CAACL,WAAL,oBAAA,KAAI,CAACA,WAAL,CAAmBM,EAAnB,EAAuBD,OAAvB;AACD,GAvCa;;AAAA,oCAyCH,UAACC,EAAD;AAAA,WAAiB,KAAI,CAACJ,aAAtB,oBAAiB,KAAI,CAACA,aAAL,CAAqBI,EAArB,CAAjB;AAAA,GAzCG;;AACZ,MAAI,CAACC,gBAAL,EAAgB;AAEhB,MAAIC,MAAJ;AACA,MAAMC,cAAc,GAAGC,QAAQ,CAACC,cAAT,CAAwBpB,QAAxB,CAAvB;;AAEA,MAAIkB,cAAJ,EAAoB;AAClBD,IAAAA,MAAM,GAAGC,cAAT;AACD,GAFD,MAEO;AAAA;;AACL,QAAMG,GAAG,GAAGF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAZ;AACAD,IAAAA,GAAG,CAACN,EAAJ,GAASf,QAAT;AACA,sBAAAmB,QAAQ,CAACI,IAAT,oCAAeC,WAAf,CAA2BH,GAA3B;AACAJ,IAAAA,MAAM,GAAGI,GAAT;AACD;;AAED,sCAAO,oBAAC,0BAAD;AAAc,IAAA,MAAM,EAAE,KAAKI;AAA3B,IAAP,EAAqDR,MAArD;AACD,C;;AA4BI,IAAMS,KAAK,GAAG,IAAIzB,OAAJ,EAAd","sourcesContent":["import { isBrowser } from \"@chakra-ui/utils\"\nimport * as React from \"react\"\nimport { render } from \"react-dom\"\nimport { ToastMethods, ToastManager } from \"./toast-manager\"\nimport type {\n  CloseAllToastsOptions,\n  ToastId,\n  ToastMessage,\n  ToastOptions,\n} from \"./toast.types\"\n\nconst portalId = \"chakra-toast-portal\"\n\nclass Toaster {\n  private createToast?: ToastMethods[\"notify\"]\n  private removeAll?: ToastMethods[\"closeAll\"]\n  private closeToast?: ToastMethods[\"close\"]\n  private updateToast?: ToastMethods[\"update\"]\n  private isToastActive?: ToastMethods[\"isActive\"]\n\n  /**\n   * Initialize the manager and mount it in the DOM\n   * inside the portal node.\n   *\n   * @todo\n   *\n   * Update toast constructor to use `PortalManager`'s node or document.body.\n   * Once done, we can remove the `zIndex` in `toast.manager.tsx`\n   */\n  constructor() {\n    if (!isBrowser) return\n\n    let portal: HTMLElement\n    const existingPortal = document.getElementById(portalId)\n\n    if (existingPortal) {\n      portal = existingPortal\n    } else {\n      const div = document.createElement(\"div\")\n      div.id = portalId\n      document.body?.appendChild(div)\n      portal = div\n    }\n\n    render(<ToastManager notify={this.bindFunctions} />, portal)\n  }\n\n  private bindFunctions = (methods: ToastMethods) => {\n    this.createToast = methods.notify\n    this.removeAll = methods.closeAll\n    this.closeToast = methods.close\n    this.updateToast = methods.update\n    this.isToastActive = methods.isActive\n  }\n\n  notify = (message: ToastMessage, options: Partial<ToastOptions> = {}) =>\n    this.createToast?.(message, options)\n\n  close = (id: ToastId) => {\n    this.closeToast?.(id)\n  }\n\n  closeAll = (options?: CloseAllToastsOptions) => {\n    this.removeAll?.(options)\n  }\n\n  update = (id: ToastId, options: Partial<ToastOptions> = {}) => {\n    this.updateToast?.(id, options)\n  }\n\n  isActive = (id: ToastId) => this.isToastActive?.(id)\n}\n\nexport const toast = new Toaster()\n"],"file":"toast.class.js"}