{"ast":null,"code":"import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React, { PureComponent } from 'react';\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof reducePropsToState !== 'function') {\n      throw new Error('Expected reducePropsToState to be a function.');\n    }\n\n    if (typeof handleStateChangeOnClient !== 'function') {\n      throw new Error('Expected handleStateChangeOnClient to be a function.');\n    }\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof WrappedComponent !== 'function') {\n        throw new Error('Expected WrappedComponent to be a React component.');\n      }\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n      handleStateChangeOnClient(state);\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      } // Try to use displayName of wrapped component\n\n\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    return SideEffect;\n  };\n}\n\nexport default withSideEffect;","map":{"version":3,"sources":["/Users/lin/Documents/Projects/solana-explorer-tutorial/node_modules/react-clientside-effect/lib/index.es.js"],"names":["_inheritsLoose","_defineProperty","React","PureComponent","withSideEffect","reducePropsToState","handleStateChangeOnClient","process","env","NODE_ENV","Error","getDisplayName","WrappedComponent","displayName","name","wrap","mountedInstances","state","emitChange","map","instance","props","SideEffect","_PureComponent","apply","arguments","peek","_proto","prototype","componentDidMount","push","componentDidUpdate","componentWillUnmount","index","indexOf","splice","render","createElement"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,0CAA3B;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,OAAOC,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;;AAEA,SAASC,cAAT,CAAwBC,kBAAxB,EAA4CC,yBAA5C,EAAuE;AACrE,MAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAI,OAAOJ,kBAAP,KAA8B,UAAlC,EAA8C;AAC5C,YAAM,IAAIK,KAAJ,CAAU,+CAAV,CAAN;AACD;;AAED,QAAI,OAAOJ,yBAAP,KAAqC,UAAzC,EAAqD;AACnD,YAAM,IAAII,KAAJ,CAAU,sDAAV,CAAN;AACD;AACF;;AAED,WAASC,cAAT,CAAwBC,gBAAxB,EAA0C;AACxC,WAAOA,gBAAgB,CAACC,WAAjB,IAAgCD,gBAAgB,CAACE,IAAjD,IAAyD,WAAhE;AACD;;AAED,SAAO,SAASC,IAAT,CAAcH,gBAAd,EAAgC;AACrC,QAAIL,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,UAAI,OAAOG,gBAAP,KAA4B,UAAhC,EAA4C;AAC1C,cAAM,IAAIF,KAAJ,CAAU,oDAAV,CAAN;AACD;AACF;;AAED,QAAIM,gBAAgB,GAAG,EAAvB;AACA,QAAIC,KAAJ;;AAEA,aAASC,UAAT,GAAsB;AACpBD,MAAAA,KAAK,GAAGZ,kBAAkB,CAACW,gBAAgB,CAACG,GAAjB,CAAqB,UAAUC,QAAV,EAAoB;AAClE,eAAOA,QAAQ,CAACC,KAAhB;AACD,OAF0B,CAAD,CAA1B;AAGAf,MAAAA,yBAAyB,CAACW,KAAD,CAAzB;AACD;;AAED,QAAIK,UAAU,GAAG,aAAa,UAAUC,cAAV,EAA0B;AACtDvB,MAAAA,cAAc,CAACsB,UAAD,EAAaC,cAAb,CAAd;;AAEA,eAASD,UAAT,GAAsB;AACpB,eAAOC,cAAc,CAACC,KAAf,CAAqB,IAArB,EAA2BC,SAA3B,KAAyC,IAAhD;AACD,OALqD,CAOtD;;;AACAH,MAAAA,UAAU,CAACI,IAAX,GAAkB,SAASA,IAAT,GAAgB;AAChC,eAAOT,KAAP;AACD,OAFD;;AAIA,UAAIU,MAAM,GAAGL,UAAU,CAACM,SAAxB;;AAEAD,MAAAA,MAAM,CAACE,iBAAP,GAA2B,SAASA,iBAAT,GAA6B;AACtDb,QAAAA,gBAAgB,CAACc,IAAjB,CAAsB,IAAtB;AACAZ,QAAAA,UAAU;AACX,OAHD;;AAKAS,MAAAA,MAAM,CAACI,kBAAP,GAA4B,SAASA,kBAAT,GAA8B;AACxDb,QAAAA,UAAU;AACX,OAFD;;AAIAS,MAAAA,MAAM,CAACK,oBAAP,GAA8B,SAASA,oBAAT,GAAgC;AAC5D,YAAIC,KAAK,GAAGjB,gBAAgB,CAACkB,OAAjB,CAAyB,IAAzB,CAAZ;AACAlB,QAAAA,gBAAgB,CAACmB,MAAjB,CAAwBF,KAAxB,EAA+B,CAA/B;AACAf,QAAAA,UAAU;AACX,OAJD;;AAMAS,MAAAA,MAAM,CAACS,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,eAAO,aAAalC,KAAK,CAACmC,aAAN,CAAoBzB,gBAApB,EAAsC,KAAKS,KAA3C,CAApB;AACD,OAFD;;AAIA,aAAOC,UAAP;AACD,KAlC6B,CAkC5BnB,aAlC4B,CAA9B;;AAoCAF,IAAAA,eAAe,CAACqB,UAAD,EAAa,aAAb,EAA4B,gBAAgBX,cAAc,CAACC,gBAAD,CAA9B,GAAmD,GAA/E,CAAf;;AAEA,WAAOU,UAAP;AACD,GAxDD;AAyDD;;AAED,eAAelB,cAAf","sourcesContent":["import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React, { PureComponent } from 'react';\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof reducePropsToState !== 'function') {\n      throw new Error('Expected reducePropsToState to be a function.');\n    }\n\n    if (typeof handleStateChangeOnClient !== 'function') {\n      throw new Error('Expected handleStateChangeOnClient to be a function.');\n    }\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof WrappedComponent !== 'function') {\n        throw new Error('Expected WrappedComponent to be a React component.');\n      }\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n      handleStateChangeOnClient(state);\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    return SideEffect;\n  };\n}\n\nexport default withSideEffect;\n"]},"metadata":{},"sourceType":"module"}