{"ast":null,"code":"export function isElement(el) {\n  return el != null && typeof el == \"object\" && \"nodeType\" in el && el.nodeType === Node.ELEMENT_NODE;\n}\nexport function isHTMLElement(el) {\n  var _el$ownerDocument$def;\n\n  if (!isElement(el)) {\n    return false;\n  }\n\n  var win = (_el$ownerDocument$def = el.ownerDocument.defaultView) != null ? _el$ownerDocument$def : window;\n  return el instanceof win.HTMLElement;\n}\nexport function getOwnerWindow(node) {\n  var _getOwnerDocument$def, _getOwnerDocument;\n\n  return isElement(node) ? (_getOwnerDocument$def = (_getOwnerDocument = getOwnerDocument(node)) == null ? void 0 : _getOwnerDocument.defaultView) != null ? _getOwnerDocument$def : window : window;\n}\nexport function getOwnerDocument(node) {\n  var _node$ownerDocument;\n\n  return isElement(node) ? (_node$ownerDocument = node.ownerDocument) != null ? _node$ownerDocument : document : document;\n}\nexport function getEventWindow(event) {\n  var _view;\n\n  return (_view = event.view) != null ? _view : window;\n}\nexport function canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\nexport var isBrowser = canUseDOM();\nexport var dataAttr = function dataAttr(condition) {\n  return condition ? \"\" : undefined;\n};\nexport var ariaAttr = function ariaAttr(condition) {\n  return condition ? true : undefined;\n};\nexport var cx = function cx() {\n  for (var _len = arguments.length, classNames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classNames[_key] = arguments[_key];\n  }\n\n  return classNames.filter(Boolean).join(\" \");\n};\nexport function getActiveElement(node) {\n  var doc = getOwnerDocument(node);\n  return doc == null ? void 0 : doc.activeElement;\n}\nexport function contains(parent, child) {\n  if (!parent) return false;\n  return parent === child || parent.contains(child);\n}\nexport function addDomEvent(target, eventName, handler, options) {\n  target.addEventListener(eventName, handler, options);\n  return function () {\n    target.removeEventListener(eventName, handler, options);\n  };\n}\n/**\n * Get the normalized event key across all browsers\n * @param event keyboard event\n */\n\nexport function normalizeEventKey(event) {\n  var key = event.key,\n      keyCode = event.keyCode;\n  var isArrowKey = keyCode >= 37 && keyCode <= 40 && key.indexOf(\"Arrow\") !== 0;\n  var eventKey = isArrowKey ? \"Arrow\" + key : key;\n  return eventKey;\n}\nexport function getRelatedTarget(event) {\n  var _event$target, _ref, _event$relatedTarget;\n\n  var target = (_event$target = event.target) != null ? _event$target : event.currentTarget;\n  var activeElement = getActiveElement(target);\n  var originalTarget = event.nativeEvent.explicitOriginalTarget;\n  return (_ref = (_event$relatedTarget = event.relatedTarget) != null ? _event$relatedTarget : originalTarget) != null ? _ref : activeElement;\n}\nexport function isRightClick(event) {\n  return event.button !== 0;\n}","map":{"version":3,"sources":["../../src/dom.ts"],"names":["el","Node","isElement","win","getOwnerDocument","node","event","window","isBrowser","canUseDOM","dataAttr","condition","ariaAttr","cx","classNames","doc","parent","target","keyCode","isArrowKey","key","eventKey","activeElement","getActiveElement","originalTarget"],"mappings":"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","sourcesContent":["import { Booleanish, EventKeys } from \"./types\"\n\nexport function isElement(el: any): el is Element {\n  return (\n    el != null &&\n    typeof el == \"object\" &&\n    \"nodeType\" in el &&\n    el.nodeType === Node.ELEMENT_NODE\n  )\n}\n\nexport function isHTMLElement(el: any): el is HTMLElement {\n  if (!isElement(el)) {\n    return false\n  }\n\n  const win = el.ownerDocument.defaultView ?? window\n  return el instanceof win.HTMLElement\n}\n\nexport function getOwnerWindow(node?: Element | null): typeof globalThis {\n  return isElement(node)\n    ? getOwnerDocument(node)?.defaultView ?? window\n    : window\n}\n\nexport function getOwnerDocument(node?: Element | null): Document {\n  return isElement(node) ? node.ownerDocument ?? document : document\n}\n\nexport function getEventWindow(event: Event): typeof globalThis {\n  return (((event as UIEvent).view ?? window) as unknown) as typeof globalThis\n}\n\nexport function canUseDOM(): boolean {\n  return !!(\n    typeof window !== \"undefined\" &&\n    window.document &&\n    window.document.createElement\n  )\n}\n\nexport const isBrowser = canUseDOM()\n\nexport const dataAttr = (condition: boolean | undefined) =>\n  (condition ? \"\" : undefined) as Booleanish\n\nexport const ariaAttr = (condition: boolean | undefined) =>\n  condition ? true : undefined\n\nexport const cx = (...classNames: any[]) => classNames.filter(Boolean).join(\" \")\n\nexport function getActiveElement(node?: HTMLElement) {\n  const doc = getOwnerDocument(node)\n  return doc?.activeElement as HTMLElement\n}\n\nexport function contains(parent: HTMLElement | null, child: HTMLElement) {\n  if (!parent) return false\n  return parent === child || parent.contains(child)\n}\n\nexport function addDomEvent(\n  target: EventTarget,\n  eventName: string,\n  handler: EventListener,\n  options?: AddEventListenerOptions,\n) {\n  target.addEventListener(eventName, handler, options)\n  return () => {\n    target.removeEventListener(eventName, handler, options)\n  }\n}\n\n/**\n * Get the normalized event key across all browsers\n * @param event keyboard event\n */\nexport function normalizeEventKey(\n  event: Pick<KeyboardEvent, \"key\" | \"keyCode\">,\n) {\n  const { key, keyCode } = event\n\n  const isArrowKey =\n    keyCode >= 37 && keyCode <= 40 && key.indexOf(\"Arrow\") !== 0\n\n  const eventKey = isArrowKey ? `Arrow${key}` : key\n\n  return eventKey as EventKeys\n}\n\nexport function getRelatedTarget(\n  event: Pick<FocusEvent, \"relatedTarget\" | \"target\" | \"currentTarget\">,\n) {\n  const target = (event.target ?? event.currentTarget) as HTMLElement\n  const activeElement = getActiveElement(target)\n  const originalTarget = (event as any).nativeEvent.explicitOriginalTarget\n  return (event.relatedTarget ?? originalTarget ?? activeElement) as HTMLElement\n}\n\nexport function isRightClick(event: Pick<MouseEvent, \"button\">): boolean {\n  return event.button !== 0\n}\n"]},"metadata":{},"sourceType":"module"}