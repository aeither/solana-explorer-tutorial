{"ast":null,"code":"import * as React from \"react\";\nimport { useSafeLayoutEffect } from \"./use-safe-layout-effect\";\n/**\n * React hook to persist any value between renders,\n * but keeps it up-to-date if it changes.\n *\n * @param value the value or function to persist\n */\n\nexport function useCallbackRef(fn, deps) {\n  if (deps === void 0) {\n    deps = [];\n  }\n\n  var ref = React.useRef(fn);\n  useSafeLayoutEffect(function () {\n    ref.current = fn;\n  }); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return ref.current == null ? void 0 : ref.current.apply(ref, args);\n  }, deps);\n}","map":{"version":3,"sources":["../../src/use-callback-ref.ts"],"names":["deps","ref","React","useSafeLayoutEffect","args"],"mappings":"AAAA,OAAO,KAAP,KAAA,MAAA,OAAA;AACA,SAAA,mBAAA,QAAA,0BAAA;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAA,cAAA,CAAA,EAAA,EAAA,IAAA,EAGF;AAAA,MADHA,IACG,KAAA,KAAA,CAAA,EAAA;AADHA,IAAAA,IACG,GAD0B,EAA7BA;AACG;;AACH,MAAMC,GAAG,GAAGC,KAAK,CAALA,MAAAA,CAAZ,EAAYA,CAAZ;AAEAC,EAAAA,mBAAmB,CAAC,YAAM;AACxBF,IAAAA,GAAG,CAAHA,OAAAA,GAAAA,EAAAA;AAJC,GAGgB,CAAnBE,CAHG,CAOH;;AACA,SAAO,KAAK,CAAL,WAAA,CAAmB,YAAA;AAAA,SAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAAIC,IAAJ,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;AAAIA,MAAAA,IAAJ,CAAA,IAAA,CAAIA,GAAJ,SAAA,CAAA,IAAA,CAAIA;AAAJ;;AAAA,WAAaH,GAAG,CAAhB,OAAaA,IAAb,IAAaA,GAAb,KAAA,CAAaA,GAAAA,GAAG,CAAHA,OAAAA,OAAAA,GAAG,EAAhB,IAAgB,CAAhB;AAAnB,GAAA,EAAP,IAAO,CAAP;AACD","sourcesContent":["import * as React from \"react\"\nimport { useSafeLayoutEffect } from \"./use-safe-layout-effect\"\n\n/**\n * React hook to persist any value between renders,\n * but keeps it up-to-date if it changes.\n *\n * @param value the value or function to persist\n */\nexport function useCallbackRef<T extends (...args: any[]) => any>(\n  fn: T | undefined,\n  deps: React.DependencyList = [],\n): T {\n  const ref = React.useRef(fn)\n\n  useSafeLayoutEffect(() => {\n    ref.current = fn\n  })\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(((...args) => ref.current?.(...args)) as T, deps)\n}\n"]},"metadata":{},"sourceType":"module"}