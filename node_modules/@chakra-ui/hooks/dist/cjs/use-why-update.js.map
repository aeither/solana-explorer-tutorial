{"version":3,"sources":["../../src/use-why-update.ts"],"names":["useWhyDidYouUpdate","name","props","previousProps","React","useRef","useEffect","current","allKeys","Object","keys","changesObj","forEach","key","from","to","length","console","log"],"mappings":";;;;;AAAA;;;;;;;;AAEO,SAASA,kBAAT,CAA4BC,IAA5B,EAA0CC,KAA1C,EAAsD;AAC3D,MAAMC,aAAa,GAAGC,KAAK,CAACC,MAAN,EAAtB;AAEAD,EAAAA,KAAK,CAACE,SAAN,CAAgB,YAAM;AACpB,QAAIH,aAAa,CAACI,OAAlB,EAA2B;AACzB,UAAMC,OAAO,GAAGC,MAAM,CAACC,IAAP,cAAiBP,aAAa,CAACI,OAA/B,EAA2CL,KAA3C,EAAhB;AACA,UAAMS,UAAU,GAAG,EAAnB;AACAH,MAAAA,OAAO,CAACI,OAAR,CAAgB,UAACC,GAAD,EAAS;AACvB,YAAIV,aAAa,CAACI,OAAd,CAAsBM,GAAtB,MAA+BX,KAAK,CAACW,GAAD,CAAxC,EAA+C;AAC7CF,UAAAA,UAAU,CAACE,GAAD,CAAV,GAAkB;AAChBC,YAAAA,IAAI,EAAEX,aAAa,CAACI,OAAd,CAAsBM,GAAtB,CADU;AAEhBE,YAAAA,EAAE,EAAEb,KAAK,CAACW,GAAD;AAFO,WAAlB;AAID;AACF,OAPD;;AASA,UAAIJ,MAAM,CAACC,IAAP,CAAYC,UAAZ,EAAwBK,MAA5B,EAAoC;AAClCC,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCjB,IAApC,EAA0CU,UAA1C;AACD;AACF;;AAEDR,IAAAA,aAAa,CAACI,OAAd,GAAwBL,KAAxB;AACD,GAnBD;AAoBD","sourcesContent":["import * as React from \"react\"\n\nexport function useWhyDidYouUpdate(name: string, props: any) {\n  const previousProps = React.useRef<any>()\n\n  React.useEffect(() => {\n    if (previousProps.current) {\n      const allKeys = Object.keys({ ...previousProps.current, ...props })\n      const changesObj = {}\n      allKeys.forEach((key) => {\n        if (previousProps.current[key] !== props[key]) {\n          changesObj[key] = {\n            from: previousProps.current[key],\n            to: props[key],\n          }\n        }\n      })\n\n      if (Object.keys(changesObj).length) {\n        console.log(\"[why-did-you-update]\", name, changesObj)\n      }\n    }\n\n    previousProps.current = props\n  })\n}\n"],"file":"use-why-update.js"}