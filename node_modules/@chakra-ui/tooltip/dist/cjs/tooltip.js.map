{"version":3,"sources":["../../src/tooltip.tsx"],"names":["StyledTooltip","motion","div","Tooltip","props","ref","styles","ownProps","theme","children","label","shouldWrapChildren","ariaLabel","hasArrow","bg","portalProps","rest","popperCSSVars","arrowBg","tooltip","shouldWrap","trigger","getTriggerProps","child","React","Children","only","cloneElement","hasAriaLabel","_tooltipProps","getTooltipProps","tooltipProps","hiddenProps","isOpen","getTooltipPositionerProps","zIndex","pointerEvents","scale","__DEV__","displayName"],"mappings":"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","sourcesContent":["import { popperCSSVars } from \"@chakra-ui/popper\"\nimport { Portal, PortalProps } from \"@chakra-ui/portal\"\nimport {\n  chakra,\n  forwardRef,\n  HTMLChakraProps,\n  omitThemingProps,\n  ThemingProps,\n  useStyleConfig,\n  useTheme,\n} from \"@chakra-ui/system\"\nimport { isString, omit, pick, __DEV__, getCSSVar } from \"@chakra-ui/utils\"\nimport { VisuallyHidden } from \"@chakra-ui/visually-hidden\"\nimport { AnimatePresence, motion } from \"framer-motion\"\nimport * as React from \"react\"\nimport { scale } from \"./tooltip.transition\"\nimport { useTooltip, UseTooltipProps } from \"./use-tooltip\"\n\nexport interface TooltipProps\n  extends HTMLChakraProps<\"div\">,\n    ThemingProps<\"Tooltip\">,\n    UseTooltipProps {\n  /**\n   * The react component to use as the\n   * trigger for the tooltip\n   */\n  children: React.ReactNode\n  /**\n   * The label of the tooltip\n   */\n  label?: React.ReactNode\n  /**\n   * The accessible, human friendly label to use for\n   * screen readers.\n   *\n   * If passed, tooltip will show the content `label`\n   * but expose only `aria-label` to assistive technologies\n   */\n  \"aria-label\"?: string\n  /**\n   * If `true`, the tooltip will wrap its children\n   * in a `<span/>` with `tabIndex=0`\n   */\n  shouldWrapChildren?: boolean\n  /**\n   * If `true`, the tooltip will show an arrow tip\n   */\n  hasArrow?: boolean\n  /**\n   * Props to be forwarded to the portal component\n   */\n  portalProps?: Pick<PortalProps, \"appendToParentPortal\" | \"containerRef\">\n}\n\nconst StyledTooltip = chakra(motion.div)\n\n/**\n * Tooltips display informative text when users hover, focus on, or tap an element.\n *\n * @see Docs     https://chakra-ui.com/components/tooltip\n * @see WAI-ARIA https://www.w3.org/TR/wai-aria-practices/#tooltip\n */\nexport const Tooltip = forwardRef<TooltipProps, \"div\">((props, ref) => {\n  const styles = useStyleConfig(\"Tooltip\", props)\n  const ownProps = omitThemingProps(props)\n  const theme = useTheme()\n\n  const {\n    children,\n    label,\n    shouldWrapChildren,\n    \"aria-label\": ariaLabel,\n    hasArrow,\n    bg,\n    portalProps,\n    ...rest\n  } = ownProps\n\n  if (bg) {\n    styles.bg = bg\n    styles[popperCSSVars.arrowBg.var] = getCSSVar(theme, \"colors\", bg)\n  }\n\n  const tooltip = useTooltip(rest)\n\n  const shouldWrap = isString(children) || shouldWrapChildren\n\n  let trigger: React.ReactElement\n\n  if (shouldWrap) {\n    trigger = (\n      <chakra.span tabIndex={0} {...tooltip.getTriggerProps()}>\n        {children}\n      </chakra.span>\n    )\n  } else {\n    /**\n     * Ensure tooltip has only one child node\n     */\n    const child = React.Children.only(children) as React.ReactElement & {\n      ref?: React.Ref<any>\n    }\n    trigger = React.cloneElement(\n      child,\n      tooltip.getTriggerProps(child.props, child.ref),\n    )\n  }\n\n  const hasAriaLabel = !!ariaLabel\n\n  const _tooltipProps = tooltip.getTooltipProps({}, ref)\n\n  const tooltipProps = hasAriaLabel\n    ? omit(_tooltipProps, [\"role\", \"id\"])\n    : _tooltipProps\n\n  const hiddenProps = pick(_tooltipProps, [\"role\", \"id\"])\n\n  /**\n   * If the `label` is empty, there's no\n   * point showing the tooltip. Let's simply return back the children\n   */\n  if (!label) {\n    return <>{children}</>\n  }\n\n  return (\n    <>\n      {trigger}\n      <AnimatePresence>\n        {tooltip.isOpen && (\n          <Portal {...portalProps}>\n            <chakra.div\n              {...tooltip.getTooltipPositionerProps()}\n              __css={{\n                zIndex: styles.zIndex,\n                pointerEvents: \"none\",\n              }}\n            >\n              <StyledTooltip\n                variants={scale}\n                {...(tooltipProps as any)}\n                initial=\"exit\"\n                animate=\"enter\"\n                exit=\"exit\"\n                __css={styles}\n              >\n                {label}\n                {hasAriaLabel && (\n                  <VisuallyHidden {...hiddenProps}>{ariaLabel}</VisuallyHidden>\n                )}\n                {hasArrow && (\n                  <chakra.div\n                    data-popper-arrow\n                    className=\"chakra-tooltip__arrow-wrapper\"\n                  >\n                    <chakra.div\n                      data-popper-arrow-inner\n                      className=\"chakra-tooltip__arrow\"\n                      __css={{ bg: styles.bg }}\n                    />\n                  </chakra.div>\n                )}\n              </StyledTooltip>\n            </chakra.div>\n          </Portal>\n        )}\n      </AnimatePresence>\n    </>\n  )\n})\n\nif (__DEV__) {\n  Tooltip.displayName = \"Tooltip\"\n}\n"],"file":"tooltip.js"}