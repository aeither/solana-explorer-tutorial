{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */\nimport * as React from \"react\";\nexport function assignRef(ref, value) {\n  if (ref == null) return;\n\n  if (typeof ref === \"function\") {\n    ref(value);\n    return;\n  }\n\n  try {\n    // @ts-ignore\n    ref.current = value;\n  } catch (error) {\n    throw new Error(\"Cannot assign value '\" + value + \"' to ref '\" + ref + \"'\");\n  }\n}\n/**\n * React hook that merges react refs into a single memoized function\n *\n * @example\n * import React from \"react\";\n * import { useMergeRefs } from `@chakra-ui/hooks`;\n *\n * const Component = React.forwardRef((props, ref) => {\n *   const internalRef = React.useRef();\n *   return <div {...props} ref={useMergeRefs(internalRef, ref)} />;\n * });\n */\n\nexport function useMergeRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return React.useMemo(function () {\n    if (refs.every(function (ref) {\n      return ref == null;\n    })) {\n      return null;\n    }\n\n    return function (node) {\n      refs.forEach(function (ref) {\n        if (ref) assignRef(ref, node);\n      });\n    };\n  }, refs);\n}","map":{"version":3,"sources":["../../src/use-merge-refs.ts"],"names":["ref","refs","node","assignRef"],"mappings":"AAAA;AACA,OAAO,KAAP,KAAA,MAAA,OAAA;AAIA,OAAO,SAAA,SAAA,CAAA,GAAA,EAAA,KAAA,EAAoE;AACzE,MAAIA,GAAG,IAAP,IAAA,EAAiB;;AAEjB,MAAI,OAAA,GAAA,KAAJ,UAAA,EAA+B;AAC7BA,IAAAA,GAAG,CAAHA,KAAG,CAAHA;AACA;AACD;;AAED,MAAI;AACF;AACAA,IAAAA,GAAG,CAAHA,OAAAA,GAAAA,KAAAA;AAFF,GAAA,CAGE,OAAA,KAAA,EAAc;AACd,UAAM,IAAA,KAAA,CAAA,0BAAA,KAAA,GAAA,YAAA,GAAA,GAAA,GAAN,GAAM,CAAN;AACD;AACF;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAA,YAAA,GAA+D;AAAA,OAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAAnCC,IAAmC,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;AAAnCA,IAAAA,IAAmC,CAAA,IAAA,CAAnCA,GAAmC,SAAA,CAAA,IAAA,CAAnCA;AAAmC;;AACpE,SAAO,KAAK,CAAL,OAAA,CAAc,YAAM;AACzB,QAAIA,IAAI,CAAJA,KAAAA,CAAYD,UAAAA,GAAD;AAAA,aAASA,GAAG,IAA3B,IAAe;AAAA,KAAXC,CAAJ,EAAsC;AACpC,aAAA,IAAA;AACD;;AACD,WAAQC,UAAAA,IAAD,EAAa;AAClBD,MAAAA,IAAI,CAAJA,OAAAA,CAAcD,UAAAA,GAAD,EAAS;AACpB,YAAA,GAAA,EAASG,SAAS,CAAA,GAAA,EAATA,IAAS,CAATA;AADXF,OAAAA;AADF,KAAA;AAJK,GAAA,EAAP,IAAO,CAAP;AAUD","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport * as React from \"react\"\n\ntype ReactRef<T> = React.Ref<T> | React.MutableRefObject<T>\n\nexport function assignRef<T = any>(ref: ReactRef<T> | undefined, value: T) {\n  if (ref == null) return\n\n  if (typeof ref === \"function\") {\n    ref(value)\n    return\n  }\n\n  try {\n    // @ts-ignore\n    ref.current = value\n  } catch (error) {\n    throw new Error(`Cannot assign value '${value}' to ref '${ref}'`)\n  }\n}\n\n/**\n * React hook that merges react refs into a single memoized function\n *\n * @example\n * import React from \"react\";\n * import { useMergeRefs } from `@chakra-ui/hooks`;\n *\n * const Component = React.forwardRef((props, ref) => {\n *   const internalRef = React.useRef();\n *   return <div {...props} ref={useMergeRefs(internalRef, ref)} />;\n * });\n */\nexport function useMergeRefs<T>(...refs: (ReactRef<T> | undefined)[]) {\n  return React.useMemo(() => {\n    if (refs.every((ref) => ref == null)) {\n      return null\n    }\n    return (node: T) => {\n      refs.forEach((ref) => {\n        if (ref) assignRef(ref, node)\n      })\n    }\n  }, refs)\n}\n"]},"metadata":{},"sourceType":"module"}