{"version":3,"sources":["../../../src/utils/create-transform.ts"],"names":["tokenToCSSVar","scale","value","theme","valueStr","String","key","__cssMap","varRef","createTransform","options","transform","compose","fn","_value","result"],"mappings":";;;;;;AAAA;;AAUO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAoBC,KAApB;AAAA,SAAmC,UAC9DC,KAD8D,EAE3D;AACH,QAAMC,QAAQ,GAAGC,MAAM,CAACH,KAAD,CAAvB;AACA,QAAMI,GAAG,GAAGL,KAAK,GAAMA,KAAN,SAAeG,QAAf,GAA4BA,QAA7C;AACA,WAAO,qBAASD,KAAK,CAACI,QAAf,KAA4BD,GAAG,IAAIH,KAAK,CAACI,QAAzC,GACHJ,KAAK,CAACI,QAAN,CAAeD,GAAf,EAAoBE,MADjB,GAEHN,KAFJ;AAGD,GAR4B;AAAA,CAAtB;;;;AAUA,SAASO,eAAT,CAAyBC,OAAzB,EAA0D;AAAA,MACvDT,KADuD,GACzBS,OADyB,CACvDT,KADuD;AAAA,MAChDU,SADgD,GACzBD,OADyB,CAChDC,SADgD;AAAA,MACrCC,OADqC,GACzBF,OADyB,CACrCE,OADqC;;AAG/D,MAAMC,EAAa,GAAG,SAAhBA,EAAgB,CAACX,KAAD,EAAQC,KAAR,EAAkB;AAAA;;AACtC,QAAMW,MAAM,GAAGd,aAAa,CAACC,KAAD,EAAQC,KAAR,CAAb,CAA4BC,KAA5B,CAAf;;AACA,QAAIY,MAAM,iBAAGJ,SAAH,oBAAGA,SAAS,CAAGG,MAAH,EAAWX,KAAX,CAAZ,yBAAiCW,MAA3C;;AACA,QAAIF,OAAJ,EAAa;AACXG,MAAAA,MAAM,GAAGH,OAAO,CAACG,MAAD,EAASZ,KAAT,CAAhB;AACD;;AACD,WAAOY,MAAP;AACD,GAPD;;AASA,SAAOF,EAAP;AACD","sourcesContent":["import { Dict, isObject } from \"@chakra-ui/utils\"\nimport type { ThemeScale } from \"../create-theme-vars\"\nimport type { Transform } from \"./types\"\n\ninterface CreateTransformOptions {\n  scale: ThemeScale\n  compose?: Transform\n  transform?: Transform\n}\n\nexport const tokenToCSSVar = (scale: ThemeScale, value: any) => (\n  theme: Dict,\n) => {\n  const valueStr = String(value)\n  const key = scale ? `${scale}.${valueStr}` : valueStr\n  return isObject(theme.__cssMap) && key in theme.__cssMap\n    ? theme.__cssMap[key].varRef\n    : value\n}\n\nexport function createTransform(options: CreateTransformOptions) {\n  const { scale, transform, compose } = options\n\n  const fn: Transform = (value, theme) => {\n    const _value = tokenToCSSVar(scale, value)(theme)\n    let result = transform?.(_value, theme) ?? _value\n    if (compose) {\n      result = compose(result, theme)\n    }\n    return result\n  }\n\n  return fn\n}\n"],"file":"create-transform.js"}