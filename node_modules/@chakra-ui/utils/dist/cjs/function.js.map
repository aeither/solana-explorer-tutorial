{"version":3,"sources":["../../src/function.ts"],"names":["runIfFn","valueOrFn","args","callAllHandlers","fns","func","event","some","fn","defaultPrevented","callAll","mergedFn","arg","forEach","compose","fn1","reduce","f1","f2","once","result","apply","noop","warn","options","condition","message","__DEV__","console","error","pipe","v","a","b","distance1D","Math","abs","isPoint","point","distance","xDelta","x","yDelta","y","sqrt"],"mappings":";;;;;;;;;;AACA;;AADA;AAIO,SAASA,OAAT,CACLC,SADK,EAGF;AAAA,oCADAC,IACA;AADAA,IAAAA,IACA;AAAA;;AACH,SAAO,2BAAWD,SAAX,IAAwBA,SAAS,MAAT,SAAaC,IAAb,CAAxB,GAA6CD,SAApD;AACD;;AAEM,SAASE,eAAT,GAEL;AAAA,qCADGC,GACH;AADGA,IAAAA,GACH;AAAA;;AACA,SAAO,SAASC,IAAT,CAAcC,KAAd,EAA8C;AACnDF,IAAAA,GAAG,CAACG,IAAJ,CAAS,UAACC,EAAD,EAAQ;AACfA,MAAAA,EAAE,QAAF,YAAAA,EAAE,CAAGF,KAAH,CAAF;AACA,aAAOA,KAAP,oBAAOA,KAAK,CAAEG,gBAAd;AACD,KAHD;AAID,GALD;AAMD;;AAEM,SAASC,OAAT,GAAmE;AAAA,qCAAxBN,GAAwB;AAAxBA,IAAAA,GAAwB;AAAA;;AACxE,SAAO,SAASO,QAAT,CAAkBC,GAAlB,EAAgD;AACrDR,IAAAA,GAAG,CAACS,OAAJ,CAAY,UAACL,EAAD,EAAQ;AAClBA,MAAAA,EAAE,QAAF,YAAAA,EAAE,CAAGI,GAAH,CAAF;AACD,KAFD;AAGD,GAJD;AAKD;;AAEM,IAAME,OAAO,GAAG,SAAVA,OAAU,CACrBC,GADqB;AAAA,qCAElBX,GAFkB;AAElBA,IAAAA,GAFkB;AAAA;;AAAA,SAGlBA,GAAG,CAACY,MAAJ,CAAW,UAACC,EAAD,EAAKC,EAAL;AAAA,WAAY;AAAA,aAAaD,EAAE,CAACC,EAAE,MAAF,mBAAD,CAAf;AAAA,KAAZ;AAAA,GAAX,EAAqDH,GAArD,CAHkB;AAAA,CAAhB;;;;AAKA,SAASI,IAAT,CAAqCX,EAArC,EAAoD;AACzD,MAAIY,MAAJ;AAEA,SAAO,SAASf,IAAT,GAAiD;AACtD,QAAIG,EAAJ,EAAQ;AAAA,yCADyBN,IACzB;AADyBA,QAAAA,IACzB;AAAA;;AACNkB,MAAAA,MAAM,GAAGZ,EAAE,CAACa,KAAH,CAAS,IAAT,EAAenB,IAAf,CAAT;AACAM,MAAAA,EAAE,GAAG,IAAL;AACD;;AAED,WAAOY,MAAP;AACD,GAPD;AAQD;;AAEM,IAAME,IAAI,GAAG,SAAPA,IAAO,GAAM,CAAE,CAArB;;;AAOA,IAAMC,IAAI,GAAGJ,IAAI,CAAC,UAACK,OAAD;AAAA,SAA6B,YAAM;AAAA,QAClDC,SADkD,GAC3BD,OAD2B,CAClDC,SADkD;AAAA,QACvCC,OADuC,GAC3BF,OAD2B,CACvCE,OADuC;;AAE1D,QAAID,SAAS,IAAIE,kBAAjB,EAA0B;AACxBC,MAAAA,OAAO,CAACL,IAAR,CAAaG,OAAb;AACD;AACF,GALwB;AAAA,CAAD,CAAjB;;AAOA,IAAMG,KAAK,GAAGV,IAAI,CAAC,UAACK,OAAD;AAAA,SAA6B,YAAM;AAAA,QACnDC,SADmD,GAC5BD,OAD4B,CACnDC,SADmD;AAAA,QACxCC,OADwC,GAC5BF,OAD4B,CACxCE,OADwC;;AAE3D,QAAID,SAAS,IAAIE,kBAAjB,EAA0B;AACxBC,MAAAA,OAAO,CAACC,KAAR,CAAcH,OAAd;AACD;AACF,GALyB;AAAA,CAAD,CAAlB;;;AAOA,IAAMI,IAAI,GAAG,SAAPA,IAAO;AAAA,qCAAO1B,GAAP;AAAOA,IAAAA,GAAP;AAAA;;AAAA,SAAmC,UAAC2B,CAAD;AAAA,WACrD3B,GAAG,CAACY,MAAJ,CAAW,UAACgB,CAAD,EAAIC,CAAJ;AAAA,aAAUA,CAAC,CAACD,CAAD,CAAX;AAAA,KAAX,EAA2BD,CAA3B,CADqD;AAAA,GAAnC;AAAA,CAAb;;;;AAGP,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAACF,CAAD,EAAYC,CAAZ;AAAA,SAA0BE,IAAI,CAACC,GAAL,CAASJ,CAAC,GAAGC,CAAb,CAA1B;AAAA,CAAnB;;AAGA,IAAMI,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD;AAAA,SACd,OAAOA,KAAP,IAAgB,OAAOA,KADT;AAAA,CAAhB;;AAGO,SAASC,QAAT,CAA4CP,CAA5C,EAAkDC,CAAlD,EAAwD;AAC7D,MAAI,yBAASD,CAAT,KAAe,yBAASC,CAAT,CAAnB,EAAgC;AAC9B,WAAOC,UAAU,CAACF,CAAD,EAAIC,CAAJ,CAAjB;AACD;;AACD,MAAII,OAAO,CAACL,CAAD,CAAP,IAAcK,OAAO,CAACJ,CAAD,CAAzB,EAA8B;AAC5B,QAAMO,MAAM,GAAGN,UAAU,CAACF,CAAC,CAACS,CAAH,EAAMR,CAAC,CAACQ,CAAR,CAAzB;AACA,QAAMC,MAAM,GAAGR,UAAU,CAACF,CAAC,CAACW,CAAH,EAAMV,CAAC,CAACU,CAAR,CAAzB;AACA,WAAOR,IAAI,CAACS,IAAL,CAAU,SAAAJ,MAAM,EAAI,CAAJ,CAAN,YAAcE,MAAd,EAAwB,CAAxB,CAAV,CAAP;AACD;;AACD,SAAO,CAAP;AACD","sourcesContent":["/* eslint-disable no-nested-ternary */\nimport { isFunction, isNumber, __DEV__ } from \"./assertion\"\nimport { AnyFunction, FunctionArguments } from \"./types\"\n\nexport function runIfFn<T, U>(\n  valueOrFn: T | ((...fnArgs: U[]) => T),\n  ...args: U[]\n): T {\n  return isFunction(valueOrFn) ? valueOrFn(...args) : valueOrFn\n}\n\nexport function callAllHandlers<T extends (event: any) => void>(\n  ...fns: (T | undefined)[]\n) {\n  return function func(event: FunctionArguments<T>[0]) {\n    fns.some((fn) => {\n      fn?.(event)\n      return event?.defaultPrevented\n    })\n  }\n}\n\nexport function callAll<T extends AnyFunction>(...fns: (T | undefined)[]) {\n  return function mergedFn(arg: FunctionArguments<T>[0]) {\n    fns.forEach((fn) => {\n      fn?.(arg)\n    })\n  }\n}\n\nexport const compose = <T>(\n  fn1: (...args: T[]) => T,\n  ...fns: Array<(...args: T[]) => T>\n) => fns.reduce((f1, f2) => (...args) => f1(f2(...args)), fn1)\n\nexport function once<T extends AnyFunction>(fn?: T | null) {\n  let result: any\n\n  return function func(this: any, ...args: Parameters<T>) {\n    if (fn) {\n      result = fn.apply(this, args)\n      fn = null\n    }\n\n    return result\n  }\n}\n\nexport const noop = () => {}\n\ntype MessageOptions = {\n  condition: boolean\n  message: string\n}\n\nexport const warn = once((options: MessageOptions) => () => {\n  const { condition, message } = options\n  if (condition && __DEV__) {\n    console.warn(message)\n  }\n})\n\nexport const error = once((options: MessageOptions) => () => {\n  const { condition, message } = options\n  if (condition && __DEV__) {\n    console.error(message)\n  }\n})\n\nexport const pipe = <R>(...fns: Array<(a: R) => R>) => (v: R) =>\n  fns.reduce((a, b) => b(a), v)\n\nconst distance1D = (a: number, b: number) => Math.abs(a - b)\ntype Point = { x: number; y: number }\n\nconst isPoint = (point: any): point is { x: number; y: number } =>\n  \"x\" in point && \"y\" in point\n\nexport function distance<P extends Point | number>(a: P, b: P) {\n  if (isNumber(a) && isNumber(b)) {\n    return distance1D(a, b)\n  }\n  if (isPoint(a) && isPoint(b)) {\n    const xDelta = distance1D(a.x, b.x)\n    const yDelta = distance1D(a.y, b.y)\n    return Math.sqrt(xDelta ** 2 + yDelta ** 2)\n  }\n  return 0\n}\n"],"file":"function.js"}