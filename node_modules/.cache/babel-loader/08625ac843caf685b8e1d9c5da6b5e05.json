{"ast":null,"code":"import { color } from '../color/index.js';\nimport { number } from '../numbers/index.js';\nimport { isString, floatRegex, colorRegex, sanitize } from '../utils.js';\nvar colorToken = '${c}';\nvar numberToken = '${n}';\n\nfunction test(v) {\n  var _a, _b, _c, _d;\n\n  return isNaN(v) && isString(v) && ((_b = (_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = v.match(colorRegex)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) > 0;\n}\n\nfunction analyse(v) {\n  var values = [];\n  var numColors = 0;\n  var colors = v.match(colorRegex);\n\n  if (colors) {\n    numColors = colors.length;\n    v = v.replace(colorRegex, colorToken);\n    values.push.apply(values, colors.map(color.parse));\n  }\n\n  var numbers = v.match(floatRegex);\n\n  if (numbers) {\n    v = v.replace(floatRegex, numberToken);\n    values.push.apply(values, numbers.map(number.parse));\n  }\n\n  return {\n    values: values,\n    numColors: numColors,\n    tokenised: v\n  };\n}\n\nfunction parse(v) {\n  return analyse(v).values;\n}\n\nfunction createTransformer(v) {\n  var _a = analyse(v),\n      values = _a.values,\n      numColors = _a.numColors,\n      tokenised = _a.tokenised;\n\n  var numValues = values.length;\n  return function (v) {\n    var output = tokenised;\n\n    for (var i = 0; i < numValues; i++) {\n      output = output.replace(i < numColors ? colorToken : numberToken, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\n    }\n\n    return output;\n  };\n}\n\nvar convertNumbersToZero = function convertNumbersToZero(v) {\n  return typeof v === 'number' ? 0 : v;\n};\n\nfunction getAnimatableNone(v) {\n  var parsed = parse(v);\n  var transformer = createTransformer(v);\n  return transformer(parsed.map(convertNumbersToZero));\n}\n\nvar complex = {\n  test: test,\n  parse: parse,\n  createTransformer: createTransformer,\n  getAnimatableNone: getAnimatableNone\n};\nexport { complex };","map":{"version":3,"sources":["/Users/lin/Documents/Projects/solana-explorer-tutorial/node_modules/style-value-types/dist/es/complex/index.js"],"names":["color","number","isString","floatRegex","colorRegex","sanitize","colorToken","numberToken","test","v","_a","_b","_c","_d","isNaN","match","length","analyse","values","numColors","colors","replace","push","apply","map","parse","numbers","tokenised","createTransformer","numValues","output","i","transform","convertNumbersToZero","getAnimatableNone","parsed","transformer","complex"],"mappings":"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","sourcesContent":["import { color } from '../color/index.js';\nimport { number } from '../numbers/index.js';\nimport { isString, floatRegex, colorRegex, sanitize } from '../utils.js';\n\nvar colorToken = '${c}';\nvar numberToken = '${n}';\nfunction test(v) {\n    var _a, _b, _c, _d;\n    return (isNaN(v) &&\n        isString(v) &&\n        ((_b = (_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = v.match(colorRegex)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) > 0);\n}\nfunction analyse(v) {\n    var values = [];\n    var numColors = 0;\n    var colors = v.match(colorRegex);\n    if (colors) {\n        numColors = colors.length;\n        v = v.replace(colorRegex, colorToken);\n        values.push.apply(values, colors.map(color.parse));\n    }\n    var numbers = v.match(floatRegex);\n    if (numbers) {\n        v = v.replace(floatRegex, numberToken);\n        values.push.apply(values, numbers.map(number.parse));\n    }\n    return { values: values, numColors: numColors, tokenised: v };\n}\nfunction parse(v) {\n    return analyse(v).values;\n}\nfunction createTransformer(v) {\n    var _a = analyse(v), values = _a.values, numColors = _a.numColors, tokenised = _a.tokenised;\n    var numValues = values.length;\n    return function (v) {\n        var output = tokenised;\n        for (var i = 0; i < numValues; i++) {\n            output = output.replace(i < numColors ? colorToken : numberToken, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\n        }\n        return output;\n    };\n}\nvar convertNumbersToZero = function (v) {\n    return typeof v === 'number' ? 0 : v;\n};\nfunction getAnimatableNone(v) {\n    var parsed = parse(v);\n    var transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nvar complex = { test: test, parse: parse, createTransformer: createTransformer, getAnimatableNone: getAnimatableNone };\n\nexport { complex };\n"]},"metadata":{},"sourceType":"module"}