{"version":3,"sources":["../../src/system.ts"],"names":["css","isStyleProp","filterUndefined","objectFilter","runIfFn","_styled","shouldForwardProp","domElements","toCSSObject","baseStyle","props","cssProp","__css","sx","rest","styleProps","_","prop","finalBaseStyle","finalStyles","Object","assign","computedCSS","theme","styled","component","options","styledOptions","styleObject","chakra","forEach","tag"],"mappings":";;AAAA,SACEA,GADF,EAEEC,WAFF,QAKO,0BALP;AAMA,SAASC,eAAT,EAA0BC,YAA1B,EAAwCC,OAAxC,QAAuD,kBAAvD;AACA,OAAOC,OAAP,MAA0D,iBAA1D;AACA,SAASC,iBAAT,QAAkC,uBAAlC;AAEA,SAASC,WAAT,QAAyC,gBAAzC;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMC,WAA2B,GAAG;AAAA,MAAC;AAAEC,IAAAA;AAAF,GAAD;AAAA,SAAoBC,KAAD,IAAW;AACvE,QAAM;AAASV,MAAAA,GAAG,EAAEW,OAAd;AAAuBC,MAAAA,KAAvB;AAA8BC,MAAAA;AAA9B,QAA8CH,KAApD;AAAA,QAA2CI,IAA3C,iCAAoDJ,KAApD;;AACA,QAAMK,UAAU,GAAGZ,YAAY,CAACW,IAAD,EAAO,CAACE,CAAD,EAAIC,IAAJ,KAAahB,WAAW,CAACgB,IAAD,CAA/B,CAA/B;AACA,QAAMC,cAAc,GAAGd,OAAO,CAACK,SAAD,EAAYC,KAAZ,CAA9B;AACA,QAAMS,WAAW,GAAGC,MAAM,CAACC,MAAP,CAClB,EADkB,EAElBT,KAFkB,EAGlBM,cAHkB,EAIlBhB,eAAe,CAACa,UAAD,CAJG,EAKlBF,EALkB,CAApB;AAOA,QAAMS,WAAW,GAAGtB,GAAG,CAACmB,WAAD,CAAH,CAAiBT,KAAK,CAACa,KAAvB,CAApB;AACA,WAAOZ,OAAO,GAAG,CAACW,WAAD,EAAcX,OAAd,CAAH,GAA4BW,WAA1C;AACD,GAb0C;AAAA,CAApC;AAuBP,OAAO,SAASE,MAAT,CACLC,SADK,EAELC,OAFK,EAGL;AACA,cAAwCA,OAAxC,WAAwCA,OAAxC,GAAmD,EAAnD;AAAA,MAAM;AAAEjB,IAAAA;AAAF,GAAN;AAAA,MAAsBkB,aAAtB;;AAEA,MAAI,CAACA,aAAa,CAACrB,iBAAnB,EAAsC;AACpCqB,IAAAA,aAAa,CAACrB,iBAAd,GAAkCA,iBAAlC;AACD;;AAED,MAAMsB,WAAW,GAAGpB,WAAW,CAAC;AAAEC,IAAAA;AAAF,GAAD,CAA/B;AACA,SAAOJ,OAAO,CACZoB,SADY,EAEZE,aAFY,CAAP,CAGLC,WAHK,CAAP;AAID;AAqBD,OAAO,IAAMC,MAAM,GAAIL,MAAhB;AAGPjB,WAAW,CAACuB,OAAZ,CAAqBC,GAAD,IAAS;AAC3BF,EAAAA,MAAM,CAACE,GAAD,CAAN,GAAcF,MAAM,CAACE,GAAD,CAApB;AACD,CAFD","sourcesContent":["import {\n  css,\n  isStyleProp,\n  StyleProps,\n  SystemStyleObject,\n} from \"@chakra-ui/styled-system\"\nimport { filterUndefined, objectFilter, runIfFn } from \"@chakra-ui/utils\"\nimport _styled, { CSSObject, FunctionInterpolation } from \"@emotion/styled\"\nimport { shouldForwardProp } from \"./should-forward-prop\"\nimport { As, ChakraComponent, ChakraProps, PropsOf } from \"./system.types\"\nimport { domElements, DOMElements } from \"./system.utils\"\n\ntype StyleResolverProps = SystemStyleObject & {\n  __css?: SystemStyleObject\n  sx?: SystemStyleObject\n  theme: any\n  css?: CSSObject\n}\n\ninterface GetStyleObject {\n  (options: {\n    baseStyle?:\n      | SystemStyleObject\n      | ((props: StyleResolverProps) => SystemStyleObject)\n  }): FunctionInterpolation<StyleResolverProps>\n}\n\n/**\n * Style resolver function that manages how style props are merged\n * in combination with other possible ways of defining styles.\n *\n * For example, take a component defined this way:\n * ```jsx\n * <Box fontSize=\"24px\" sx={{ fontSize: \"40px\" }}></Box>\n * ```\n *\n * We want to manage the priority of the styles properly to prevent unwanted\n * behaviors. Right now, the `sx` prop has the highest priority so the resolved\n * fontSize will be `40px`\n */\nexport const toCSSObject: GetStyleObject = ({ baseStyle }) => (props) => {\n  const { theme, css: cssProp, __css, sx, ...rest } = props\n  const styleProps = objectFilter(rest, (_, prop) => isStyleProp(prop))\n  const finalBaseStyle = runIfFn(baseStyle, props)\n  const finalStyles = Object.assign(\n    {},\n    __css,\n    finalBaseStyle,\n    filterUndefined(styleProps),\n    sx,\n  )\n  const computedCSS = css(finalStyles)(props.theme)\n  return cssProp ? [computedCSS, cssProp] : computedCSS\n}\n\ninterface StyledOptions {\n  shouldForwardProp?(prop: string): boolean\n  label?: string\n  baseStyle?:\n    | SystemStyleObject\n    | ((props: StyleResolverProps) => SystemStyleObject)\n}\n\nexport function styled<T extends As, P = {}>(\n  component: T,\n  options?: StyledOptions,\n) {\n  const { baseStyle, ...styledOptions } = options ?? {}\n\n  if (!styledOptions.shouldForwardProp) {\n    styledOptions.shouldForwardProp = shouldForwardProp\n  }\n\n  const styleObject = toCSSObject({ baseStyle })\n  return _styled(\n    component as React.ComponentType<any>,\n    styledOptions,\n  )(styleObject) as ChakraComponent<T, P>\n}\n\nexport type HTMLChakraComponents = {\n  [Tag in DOMElements]: ChakraComponent<Tag, {}>\n}\n\nexport type HTMLChakraProps<T extends As> = Omit<\n  PropsOf<T>,\n  T extends \"svg\"\n    ? \"ref\" | \"children\" | keyof StyleProps\n    : \"ref\" | keyof StyleProps\n> &\n  ChakraProps & { as?: As }\n\ntype ChakraFactory = {\n  <T extends As, P = {}>(\n    component: T,\n    options?: StyledOptions,\n  ): ChakraComponent<T, P>\n}\n\nexport const chakra = (styled as unknown) as ChakraFactory &\n  HTMLChakraComponents\n\ndomElements.forEach((tag) => {\n  chakra[tag] = chakra(tag)\n})\n"],"file":"system.js"}