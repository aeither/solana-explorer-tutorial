{"version":3,"sources":["../../src/use-callback-ref.ts"],"names":["useCallbackRef","fn","deps","ref","React","useRef","current","useCallback","args"],"mappings":";;;;;AAAA;;AACA;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,cAAT,CACLC,EADK,EAELC,IAFK,EAGF;AAAA,MADHA,IACG;AADHA,IAAAA,IACG,GAD0B,EAC1B;AAAA;;AACH,MAAMC,GAAG,GAAGC,KAAK,CAACC,MAAN,CAAaJ,EAAb,CAAZ;AAEA,gDAAoB,YAAM;AACxBE,IAAAA,GAAG,CAACG,OAAJ,GAAcL,EAAd;AACD,GAFD,EAHG,CAOH;;AACA,SAAOG,KAAK,CAACG,WAAN,CAAmB;AAAA,sCAAIC,IAAJ;AAAIA,MAAAA,IAAJ;AAAA;;AAAA,WAAaL,GAAG,CAACG,OAAjB,oBAAaH,GAAG,CAACG,OAAJ,OAAAH,GAAG,EAAcK,IAAd,CAAhB;AAAA,GAAnB,EAA8DN,IAA9D,CAAP;AACD","sourcesContent":["import * as React from \"react\"\nimport { useSafeLayoutEffect } from \"./use-safe-layout-effect\"\n\n/**\n * React hook to persist any value between renders,\n * but keeps it up-to-date if it changes.\n *\n * @param value the value or function to persist\n */\nexport function useCallbackRef<T extends (...args: any[]) => any>(\n  fn: T | undefined,\n  deps: React.DependencyList = [],\n): T {\n  const ref = React.useRef(fn)\n\n  useSafeLayoutEffect(() => {\n    ref.current = fn\n  })\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(((...args) => ref.current?.(...args)) as T, deps)\n}\n"],"file":"use-callback-ref.js"}