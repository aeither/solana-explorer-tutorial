{"version":3,"sources":["../../src/use-clipboard.ts"],"names":["useClipboard","text","optionsOrTimeout","hasCopied","setHasCopied","timeout","copyOptions","onCopy","didCopy","timeoutId","window","setTimeout","clearTimeout","value"],"mappings":";;;;;AAAA;;AACA;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,YAAT,CACLC,IADK,EAELC,gBAFK,EAGL;AAAA,MADAA,gBACA;AADAA,IAAAA,gBACA,GADiD,EACjD;AAAA;;AAAA,kBACkC,qBAAS,KAAT,CADlC;AAAA,MACOC,SADP;AAAA,MACkBC,YADlB;;AAAA,aAIE,OAAOF,gBAAP,KAA4B,QAA5B,GACI;AAAEG,IAAAA,OAAO,EAAEH;AAAX,GADJ,GAEIA,gBANN;AAAA,0BAGQG,OAHR;AAAA,MAGQA,OAHR,6BAGkB,IAHlB;AAAA,MAG2BC,WAH3B;;AAQA,MAAMC,MAAM,GAAG,wBAAY,YAAM;AAC/B,QAAMC,OAAO,GAAG,iCAAKP,IAAL,EAAWK,WAAX,CAAhB;AACAF,IAAAA,YAAY,CAACI,OAAD,CAAZ;AACD,GAHc,EAGZ,CAACP,IAAD,EAAOK,WAAP,CAHY,CAAf;AAKA,wBAAU,YAAM;AACd,QAAIG,SAAwB,GAAG,IAA/B;;AAEA,QAAIN,SAAJ,EAAe;AACbM,MAAAA,SAAS,GAAGC,MAAM,CAACC,UAAP,CAAkB,YAAM;AAClCP,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,OAFW,EAETC,OAFS,CAAZ;AAGD;;AAED,WAAO,YAAM;AACX,UAAII,SAAJ,EAAe;AACbC,QAAAA,MAAM,CAACE,YAAP,CAAoBH,SAApB;AACD;AACF,KAJD;AAKD,GAdD,EAcG,CAACJ,OAAD,EAAUF,SAAV,CAdH;AAgBA,SAAO;AAAEU,IAAAA,KAAK,EAAEZ,IAAT;AAAeM,IAAAA,MAAM,EAANA,MAAf;AAAuBJ,IAAAA,SAAS,EAATA;AAAvB,GAAP;AACD","sourcesContent":["import { useState, useCallback, useEffect } from \"react\"\nimport copy from \"copy-to-clipboard\"\n\nexport interface UseClipboardOptions {\n  /**\n   * timeout delay (in ms) to switch back to initial state once copied.\n   */\n  timeout?: number\n  /**\n   * Set the desired MIME type\n   */\n  format?: string\n}\n\n/**\n * React hook to copy content to clipboard\n *\n * @param text the text or value to copy\n * @param {Number} [optionsOrTimeout=1500] optionsOrTimeout - delay (in ms) to switch back to initial state once copied.\n * @param {Object} optionsOrTimeout\n * @param {string} optionsOrTimeout.format - set the desired MIME type\n * @param {number} optionsOrTimeout.timeout - delay (in ms) to switch back to initial state once copied.\n */\nexport function useClipboard(\n  text: string,\n  optionsOrTimeout: number | UseClipboardOptions = {},\n) {\n  const [hasCopied, setHasCopied] = useState(false)\n\n  const { timeout = 1500, ...copyOptions } =\n    typeof optionsOrTimeout === \"number\"\n      ? { timeout: optionsOrTimeout }\n      : optionsOrTimeout\n\n  const onCopy = useCallback(() => {\n    const didCopy = copy(text, copyOptions)\n    setHasCopied(didCopy)\n  }, [text, copyOptions])\n\n  useEffect(() => {\n    let timeoutId: number | null = null\n\n    if (hasCopied) {\n      timeoutId = window.setTimeout(() => {\n        setHasCopied(false)\n      }, timeout)\n    }\n\n    return () => {\n      if (timeoutId) {\n        window.clearTimeout(timeoutId)\n      }\n    }\n  }, [timeout, hasCopied])\n\n  return { value: text, onCopy, hasCopied }\n}\n"],"file":"use-clipboard.js"}