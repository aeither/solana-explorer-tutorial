{"version":3,"sources":["../../src/user-agent.ts"],"names":["isBrowser","getUserAgentBrowser","navigator","userAgent","ua","vendor","android","test","getUserAgentOS","platform","detectDeviceType","detectOS","os","window","detectBrowser","browser","detectTouch","ontouchstart","ontouchmove","ontouchend"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;;AAEA,SAASC,mBAAT,CAA6BC,SAA7B,EAAmD;AACjD,MAAM;AAAEC,IAAAA,SAAS,EAAEC,EAAb;AAAiBC,IAAAA;AAAjB,MAA4BH,SAAlC;AACA,MAAMI,OAAO,GAAG,aAAaC,IAAb,CAAkBH,EAAlB,CAAhB;;AAEA,UAAQ,IAAR;AACE,SAAK,QAAQG,IAAR,CAAaH,EAAb,CAAL;AACE,aAAO,gBAAP;;AACF,SAAK,QAAQG,IAAR,CAAaH,EAAb,CAAL;AACE,aAAO,MAAP;;AACF,SAAKE,OAAO,IAAI,SAASC,IAAT,CAAcH,EAAd,CAAhB;AACE,aAAO,MAAP;;AACF,SAAK,SAASG,IAAT,CAAcH,EAAd,KAAqB,aAAaG,IAAb,CAAkBF,MAAlB,CAA1B;AACE,aAAO,QAAP;;AACF,SAAK,qBAAqBE,IAArB,CAA0BH,EAA1B,CAAL;AACE,aAAO,SAAP;;AACF,SAAKE,OAAL;AACE,aAAO,MAAP;;AACF,SAAK,eAAeC,IAAf,CAAoBH,EAApB,CAAL;AACE,aAAO,IAAP;;AACF,SAAK,SAASG,IAAT,CAAcL,SAAS,CAACC,SAAxB,KAAsC,iBAAiBI,IAAjB,CAAsBH,EAAtB,CAA3C;AACE,aAAO,QAAP;;AACF,SAAK,cAAcG,IAAd,CAAmBH,EAAnB,CAAL;AACE,aAAO,QAAP;;AACF;AACE,aAAO,IAAP;AApBJ;AAsBD;;AAMD,SAASI,cAAT,CAAwBN,SAAxB,EAA8C;AAC5C,MAAM;AAAEC,IAAAA,SAAS,EAAEC,EAAb;AAAiBK,IAAAA;AAAjB,MAA8BP,SAApC;;AACA,UAAQ,IAAR;AACE,SAAK,UAAUK,IAAV,CAAeH,EAAf,CAAL;AACE,aAAO,SAAP;;AACF,SAAK,mBAAmBG,IAAnB,CAAwBE,QAAxB,CAAL;AACE,aAAO,KAAP;;AACF,SAAK,MAAMF,IAAN,CAAWE,QAAX,CAAL;AACE,aAAO,SAAP;;AACF,SAAK,MAAMF,IAAN,CAAWE,QAAX,CAAL;AACE,aAAO,KAAP;;AACF,SAAK,OAAOF,IAAP,CAAYH,EAAZ,CAAL;AACE,aAAO,WAAP;;AACF,SAAK,UAAUG,IAAV,CAAeH,EAAf,CAAL;AACE,aAAO,YAAP;;AACF;AACE,aAAO,IAAP;AAdJ;AAgBD;;AAID,OAAO,SAASM,gBAAT,CAA0BR,SAA1B,EAAgD;AACrD,MAAM;AAAEC,IAAAA,SAAS,EAAEC;AAAb,MAAoBF,SAA1B;AACA,MAAI,6BAA6BK,IAA7B,CAAkCH,EAAlC,CAAJ,EAA2C,OAAO,QAAP;AAC3C,MAAI,UAAUG,IAAV,CAAeH,EAAf,CAAJ,EAAwB,OAAO,OAAP;AACxB,SAAO,SAAP;AACD;AAMD,OAAO,SAASO,QAAT,CAAkBC,EAAlB,EAAmC;AACxC,MAAI,CAACZ,SAAL,EAAgB,OAAO,KAAP;AAChB,SAAOQ,cAAc,CAACK,MAAM,CAACX,SAAR,CAAd,KAAqCU,EAA5C;AACD;AAED,OAAO,SAASE,aAAT,CAAuBC,OAAvB,EAAkD;AACvD,MAAI,CAACf,SAAL,EAAgB,OAAO,KAAP;AAChB,SAAOC,mBAAmB,CAACY,MAAM,CAACX,SAAR,CAAnB,KAA0Ca,OAAjD;AACD;AAED,OAAO,SAASC,WAAT,GAAuB;AAC5B,MAAI,CAAChB,SAAL,EAAgB,OAAO,KAAP;AAChB,SACEa,MAAM,CAACI,YAAP,KAAwB,IAAxB,IACAJ,MAAM,CAACK,WAAP,KAAuB,IADvB,IAEAL,MAAM,CAACM,UAAP,KAAsB,IAHxB;AAKD","sourcesContent":["import { isBrowser } from \"./dom\"\n\nfunction getUserAgentBrowser(navigator: Navigator) {\n  const { userAgent: ua, vendor } = navigator\n  const android = /(android)/i.test(ua)\n\n  switch (true) {\n    case /CriOS/.test(ua):\n      return \"Chrome for iOS\"\n    case /Edg\\//.test(ua):\n      return \"Edge\"\n    case android && /Silk\\//.test(ua):\n      return \"Silk\"\n    case /Chrome/.test(ua) && /Google Inc/.test(vendor):\n      return \"Chrome\"\n    case /Firefox\\/\\d+\\.\\d+$/.test(ua):\n      return \"Firefox\"\n    case android:\n      return \"AOSP\"\n    case /MSIE|Trident/.test(ua):\n      return \"IE\"\n    case /Safari/.test(navigator.userAgent) && /Apple Computer/.test(ua):\n      return \"Safari\"\n    case /AppleWebKit/.test(ua):\n      return \"WebKit\"\n    default:\n      return null\n  }\n}\n\nexport type UserAgentBrowser = NonNullable<\n  ReturnType<typeof getUserAgentBrowser>\n>\n\nfunction getUserAgentOS(navigator: Navigator) {\n  const { userAgent: ua, platform } = navigator\n  switch (true) {\n    case /Android/.test(ua):\n      return \"Android\"\n    case /iPhone|iPad|iPod/.test(platform):\n      return \"iOS\"\n    case /Win/.test(platform):\n      return \"Windows\"\n    case /Mac/.test(platform):\n      return \"Mac\"\n    case /CrOS/.test(ua):\n      return \"Chrome OS\"\n    case /Firefox/.test(ua):\n      return \"Firefox OS\"\n    default:\n      return null\n  }\n}\n\nexport type UserAgentOS = NonNullable<ReturnType<typeof getUserAgentOS>>\n\nexport function detectDeviceType(navigator: Navigator) {\n  const { userAgent: ua } = navigator\n  if (/(tablet)|(iPad)|(Nexus 9)/i.test(ua)) return \"tablet\"\n  if (/(mobi)/i.test(ua)) return \"phone\"\n  return \"desktop\"\n}\n\nexport type UserAgentDeviceType = NonNullable<\n  ReturnType<typeof detectDeviceType>\n>\n\nexport function detectOS(os: UserAgentOS) {\n  if (!isBrowser) return false\n  return getUserAgentOS(window.navigator) === os\n}\n\nexport function detectBrowser(browser: UserAgentBrowser) {\n  if (!isBrowser) return false\n  return getUserAgentBrowser(window.navigator) === browser\n}\n\nexport function detectTouch() {\n  if (!isBrowser) return false\n  return (\n    window.ontouchstart === null &&\n    window.ontouchmove === null &&\n    window.ontouchend === null\n  )\n}\n"],"file":"user-agent.js"}