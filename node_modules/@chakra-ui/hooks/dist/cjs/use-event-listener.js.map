{"version":3,"sources":["../../src/use-event-listener.ts"],"names":["useEventListener","event","handler","env","options","listener","React","useEffect","node","document","addEventListener","removeEventListener"],"mappings":";;;;;AAAA;;AACA;;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,gBAAT,CACLC,KADK,EAELC,OAFK,EAGLC,GAHK,EAILC,OAJK,EAKL;AACA,MAAMC,QAAQ,GAAG,oCAAeH,OAAf,CAAjB;AAEAI,EAAAA,KAAK,CAACC,SAAN,CAAgB,YAAM;AAAA;;AACpB,QAAMC,IAAI,eAAG,oBAAQL,GAAR,CAAH,uBAAmBM,QAA7B;AAEAD,IAAAA,IAAI,CAACE,gBAAL,CAAsBT,KAAtB,EAA6BI,QAA7B,EAAuCD,OAAvC;AACA,WAAO,YAAM;AACXI,MAAAA,IAAI,CAACG,mBAAL,CAAyBV,KAAzB,EAAgCI,QAAhC,EAA0CD,OAA1C;AACD,KAFD;AAGD,GAPD,EAOG,CAACH,KAAD,EAAQE,GAAR,EAAaC,OAAb,EAAsBC,QAAtB,CAPH;AASA,SAAO,YAAM;AAAA;;AACX,QAAMG,IAAI,gBAAG,oBAAQL,GAAR,CAAH,wBAAmBM,QAA7B;AACAD,IAAAA,IAAI,CAACG,mBAAL,CAAyBV,KAAzB,EAAgCI,QAAhC,EAA0CD,OAA1C;AACD,GAHD;AAID","sourcesContent":["import { runIfFn } from \"@chakra-ui/utils\"\nimport * as React from \"react\"\nimport { useCallbackRef } from \"./use-callback-ref\"\n\ntype DocumentOrElement = Document | HTMLElement | null\n\nexport type EventListenerEnv = (() => DocumentOrElement) | DocumentOrElement\n\n/**\n * React hook to manage browser event listeners\n *\n * @param event the event name\n * @param handler the event handler function to execute\n * @param doc the dom environment to execute against (defaults to `document`)\n * @param options the event listener options\n *\n * @internal\n */\nexport function useEventListener<K extends keyof DocumentEventMap>(\n  event: K | (string & {}),\n  handler: (event: DocumentEventMap[K]) => void,\n  env?: EventListenerEnv,\n  options?: boolean | AddEventListenerOptions,\n) {\n  const listener = useCallbackRef(handler) as EventListener\n\n  React.useEffect(() => {\n    const node = runIfFn(env) ?? document\n\n    node.addEventListener(event, listener, options)\n    return () => {\n      node.removeEventListener(event, listener, options)\n    }\n  }, [event, env, options, listener])\n\n  return () => {\n    const node = runIfFn(env) ?? document\n    node.removeEventListener(event, listener, options)\n  }\n}\n"],"file":"use-event-listener.js"}