{"version":3,"sources":["../../src/collapse.tsx"],"names":["isNumeric","value","parseInt","toString","defaultTransitions","exit","height","duration","ease","TransitionEasings","opacity","enter","variants","animateOpacity","startingHeight","transition","transitionEnd","delay","overflow","withDelay","endingHeight","Collapse","React","forwardRef","props","ref","isOpen","unmountOnExit","style","className","rest","useState","mounted","setMounted","useEffect","timeout","setTimeout","clearTimeout","condition","Boolean","message","hasStartingHeight","parseFloat","custom","undefined","display","show","animate","__DEV__","displayName"],"mappings":"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","sourcesContent":["import { cx, mergeWith, warn, __DEV__ } from \"@chakra-ui/utils\"\nimport {\n  AnimatePresence,\n  HTMLMotionProps,\n  motion,\n  Variants as _Variants,\n} from \"framer-motion\"\nimport * as React from \"react\"\nimport {\n  TransitionEasings,\n  Variants,\n  withDelay,\n  WithTransitionConfig,\n} from \"./transition-utils\"\n\nconst isNumeric = (value?: string | number) =>\n  value != null && parseInt(value.toString(), 10) > 0\n\nexport interface CollapseOptions {\n  /**\n   * If `true`, the opacity of the content will be animated\n   * @default true\n   */\n  animateOpacity?: boolean\n  /**\n   * The height you want the content in its collapsed state.\n   * @default 0\n   */\n  startingHeight?: number | string\n  /**\n   * The height you want the content in its expanded state.\n   * @default \"auto\"\n   */\n  endingHeight?: number | string\n}\n\nconst defaultTransitions = {\n  exit: {\n    height: { duration: 0.2, ease: TransitionEasings.ease },\n    opacity: { duration: 0.3, ease: TransitionEasings.ease },\n  },\n  enter: {\n    height: { duration: 0.3, ease: TransitionEasings.ease },\n    opacity: { duration: 0.4, ease: TransitionEasings.ease },\n  },\n}\n\nconst variants: Variants<CollapseOptions> = {\n  exit: ({\n    animateOpacity,\n    startingHeight,\n    transition,\n    transitionEnd,\n    delay,\n  }) => ({\n    ...(animateOpacity && { opacity: isNumeric(startingHeight) ? 1 : 0 }),\n    overflow: \"hidden\",\n    height: startingHeight,\n    transitionEnd: transitionEnd?.exit,\n    transition:\n      transition?.exit ?? withDelay.exit(defaultTransitions.exit, delay),\n  }),\n  enter: ({\n    animateOpacity,\n    endingHeight,\n    transition,\n    transitionEnd,\n    delay,\n  }) => ({\n    ...(animateOpacity && { opacity: 1 }),\n    height: endingHeight,\n    transitionEnd: transitionEnd?.enter,\n    transition:\n      transition?.enter ?? withDelay.enter(defaultTransitions.enter, delay),\n  }),\n}\n\nexport type ICollapse = CollapseProps\n\nexport interface CollapseProps\n  extends WithTransitionConfig<HTMLMotionProps<\"div\">>,\n    CollapseOptions {}\n\nexport const Collapse = React.forwardRef<HTMLDivElement, CollapseProps>(\n  (props, ref) => {\n    const {\n      in: isOpen,\n      unmountOnExit,\n      animateOpacity = true,\n      startingHeight = 0,\n      endingHeight = \"auto\",\n      style,\n      className,\n      transition,\n      transitionEnd,\n      ...rest\n    } = props\n\n    const [mounted, setMounted] = React.useState(false)\n    React.useEffect(() => {\n      const timeout = setTimeout(() => {\n        setMounted(true)\n      })\n      return () => clearTimeout(timeout)\n    }, [])\n\n    /**\n     * Warn ðŸš¨: `startingHeight` and `unmountOnExit` are mutually exclusive\n     *\n     * If you specify a starting height, the collapsed needs to be mounted\n     * for the height to take effect.\n     */\n    warn({\n      condition: Boolean(startingHeight > 0 && unmountOnExit),\n      message: `startingHeight and unmountOnExit are mutually exclusive. You can't use them together`,\n    })\n\n    const hasStartingHeight = parseFloat(startingHeight.toString()) > 0\n\n    const custom = {\n      startingHeight,\n      endingHeight,\n      animateOpacity,\n      transition: !mounted ? { enter: { duration: 0 } } : transition,\n      transitionEnd: mergeWith(transitionEnd, {\n        enter: { overflow: \"initial\" },\n        exit: unmountOnExit\n          ? undefined\n          : {\n              display: hasStartingHeight ? \"block\" : \"none\",\n            },\n      }),\n    }\n\n    const show = unmountOnExit ? isOpen : true\n    const animate = isOpen || unmountOnExit ? \"enter\" : \"exit\"\n\n    return (\n      <AnimatePresence initial={false} custom={custom}>\n        {show && (\n          <motion.div\n            ref={ref}\n            {...rest}\n            className={cx(\"chakra-collapse\", className)}\n            style={{\n              overflow: \"hidden\",\n              display: \"block\",\n              ...style,\n            }}\n            custom={custom}\n            variants={variants as _Variants}\n            initial={unmountOnExit ? \"exit\" : false}\n            animate={animate}\n            exit=\"exit\"\n          />\n        )}\n      </AnimatePresence>\n    )\n  },\n)\n\nif (__DEV__) {\n  Collapse.displayName = \"Collapse\"\n}\n"],"file":"collapse.js"}