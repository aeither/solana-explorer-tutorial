{"version":3,"sources":["../../src/use-checkbox-group.ts"],"names":["useCheckboxGroup","props","defaultValue","valueProp","value","onChange","isDisabled","isNative","onChangeProp","setValue","handleChange","eventOrValue","isChecked","target","checked","includes","selectedValue","nextValue","getCheckboxProps","checkedKey"],"mappings":";;;;;AAAA;;AACA;;AAOA;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,gBAAT,CAA0BC,KAA1B,EAA6D;AAAA,MAAnCA,KAAmC;AAAnCA,IAAAA,KAAmC,GAAJ,EAAI;AAAA;;AAAA,eAO9DA,KAP8D;AAAA,MAEhEC,YAFgE,UAEhEA,YAFgE;AAAA,MAGzDC,SAHyD,UAGhEC,KAHgE;AAAA,MAIhEC,QAJgE,UAIhEA,QAJgE;AAAA,MAKhEC,UALgE,UAKhEA,UALgE;AAAA,MAMhEC,QANgE,UAMhEA,QANgE;AASlE,MAAMC,YAAY,GAAG,2BAAeH,QAAf,CAArB;;AATkE,8BAWxC,iCAAqB;AAC7CD,IAAAA,KAAK,EAAED,SADsC;AAE7CD,IAAAA,YAAY,EAAEA,YAAY,IAAI,EAFe;AAG7CG,IAAAA,QAAQ,EAAEG;AAHmC,GAArB,CAXwC;AAAA,MAW3DJ,KAX2D;AAAA,MAWpDK,QAXoD;;AAiBlE,MAAMC,YAAY,GAAG,wBACnB,UAACC,YAAD,EAAgC;AAC9B,QAAI,CAACP,KAAL,EAAY;AAEZ,QAAMQ,SAAS,GAAG,yBAAaD,YAAb,IACdA,YAAY,CAACE,MAAb,CAAoBC,OADN,GAEd,CAACV,KAAK,CAACW,QAAN,CAAeJ,YAAf,CAFL;AAIA,QAAMK,aAAa,GAAG,yBAAaL,YAAb,IAClBA,YAAY,CAACE,MAAb,CAAoBT,KADF,GAElBO,YAFJ;AAIA,QAAMM,SAAS,GAAGL,SAAS,GACvB,oBAAQR,KAAR,EAAeY,aAAf,CADuB,GAEvB,uBAAWZ,KAAX,EAAkBY,aAAlB,CAFJ;AAIAP,IAAAA,QAAQ,CAACQ,SAAD,CAAR;AACD,GAjBkB,EAkBnB,CAACR,QAAD,EAAWL,KAAX,CAlBmB,CAArB;AAqBA,MAAMc,gBAAgB,GAAG,wBACvB,UAACjB,KAAD,EAAsB;AAAA;;AAAA,QAArBA,KAAqB;AAArBA,MAAAA,KAAqB,GAAP,EAAO;AAAA;;AACpB,QAAMkB,UAAU,GAAGZ,QAAQ,GAAG,SAAH,GAAe,WAA1C;AACA,wBACKN,KADL,6BAEGkB,UAFH,IAEgBf,KAAK,CAACW,QAAN,CAAed,KAAK,CAACG,KAArB,CAFhB,YAGEC,QAHF,GAGYK,YAHZ;AAKD,GARsB,EASvB,CAACA,YAAD,EAAeH,QAAf,EAAyBH,KAAzB,CATuB,CAAzB;AAYA,SAAO;AACLA,IAAAA,KAAK,EAALA,KADK;AAELE,IAAAA,UAAU,EAAVA,UAFK;AAGLD,IAAAA,QAAQ,EAAEK,YAHL;AAILD,IAAAA,QAAQ,EAARA,QAJK;AAKLS,IAAAA,gBAAgB,EAAhBA;AALK,GAAP;AAOD","sourcesContent":["import { useCallbackRef, useControllableState } from \"@chakra-ui/hooks\"\nimport {\n  addItem,\n  Dict,\n  removeItem,\n  StringOrNumber,\n  isInputEvent,\n} from \"@chakra-ui/utils\"\nimport { ChangeEvent, useCallback } from \"react\"\n\ntype EventOrValue = ChangeEvent<HTMLInputElement> | StringOrNumber\n\nexport interface UseCheckboxGroupProps {\n  /**\n   * The value of the checkbox group\n   */\n  value?: StringOrNumber[]\n  /**\n   * The initial value of the checkbox group\n   */\n  defaultValue?: StringOrNumber[]\n  /**\n   * The callback fired when any children Checkbox is checked or unchecked\n   */\n  onChange?(value: StringOrNumber[]): void\n  /**\n   * If `true`, all wrapped checkbox inputs will be disabled\n   */\n  isDisabled?: boolean\n  /**\n   * If `true`, input elements will receive\n   * `checked` attribute instead of `isChecked`.\n   *\n   * This assumes, you're using native radio inputs\n   */\n  isNative?: boolean\n}\n\n/**\n * React hook that provides all the state management logic\n * for a group of checkboxes.\n *\n * It is consumed by the `CheckboxGroup` component\n */\nexport function useCheckboxGroup(props: UseCheckboxGroupProps = {}) {\n  const {\n    defaultValue,\n    value: valueProp,\n    onChange,\n    isDisabled,\n    isNative,\n  } = props\n\n  const onChangeProp = useCallbackRef(onChange)\n\n  const [value, setValue] = useControllableState({\n    value: valueProp,\n    defaultValue: defaultValue || [],\n    onChange: onChangeProp,\n  })\n\n  const handleChange = useCallback(\n    (eventOrValue: EventOrValue) => {\n      if (!value) return\n\n      const isChecked = isInputEvent(eventOrValue)\n        ? eventOrValue.target.checked\n        : !value.includes(eventOrValue)\n\n      const selectedValue = isInputEvent(eventOrValue)\n        ? eventOrValue.target.value\n        : eventOrValue\n\n      const nextValue = isChecked\n        ? addItem(value, selectedValue)\n        : removeItem(value, selectedValue)\n\n      setValue(nextValue)\n    },\n    [setValue, value],\n  )\n\n  const getCheckboxProps = useCallback(\n    (props: Dict = {}) => {\n      const checkedKey = isNative ? \"checked\" : \"isChecked\"\n      return {\n        ...props,\n        [checkedKey]: value.includes(props.value),\n        onChange: handleChange,\n      }\n    },\n    [handleChange, isNative, value],\n  )\n\n  return {\n    value,\n    isDisabled,\n    onChange: handleChange,\n    setValue,\n    getCheckboxProps,\n  }\n}\n\nexport type UseCheckboxGroupReturn = ReturnType<typeof useCheckboxGroup>\n"],"file":"use-checkbox-group.js"}