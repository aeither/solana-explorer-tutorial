{"ast":null,"code":"import _slicedToArray from \"/Users/lin/Documents/Projects/solana-explorer-tutorial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { useControllableState, useFocusOnPointerDown, useUpdateEffect } from \"@chakra-ui/hooks\";\nimport { mergeRefs } from \"@chakra-ui/react-utils\";\nimport { ariaAttr, callAllHandlers, contains, focus, getRelatedTarget, isEmpty, normalizeEventKey } from \"@chakra-ui/utils\";\nimport { useCallback, useRef, useState } from \"react\";\n/**\n * React hook for managing the inline renaming of some text.\n *\n * @see Docs https://chakra-ui.com/editable\n */\n\nexport function useEditable(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      onChangeProp = _props.onChange,\n      onCancelProp = _props.onCancel,\n      onSubmitProp = _props.onSubmit,\n      valueProp = _props.value,\n      isDisabled = _props.isDisabled,\n      defaultValue = _props.defaultValue,\n      startWithEditView = _props.startWithEditView,\n      _props$isPreviewFocus = _props.isPreviewFocusable,\n      isPreviewFocusable = _props$isPreviewFocus === void 0 ? true : _props$isPreviewFocus,\n      _props$submitOnBlur = _props.submitOnBlur,\n      submitOnBlur = _props$submitOnBlur === void 0 ? true : _props$submitOnBlur,\n      _props$selectAllOnFoc = _props.selectAllOnFocus,\n      selectAllOnFocus = _props$selectAllOnFoc === void 0 ? true : _props$selectAllOnFoc,\n      placeholder = _props.placeholder,\n      onEditProp = _props.onEdit,\n      htmlProps = _objectWithoutPropertiesLoose(props, [\"onChange\", \"onCancel\", \"onSubmit\", \"value\", \"isDisabled\", \"defaultValue\", \"startWithEditView\", \"isPreviewFocusable\", \"submitOnBlur\", \"selectAllOnFocus\", \"placeholder\", \"onEdit\"]);\n\n  var defaultIsEditing = Boolean(startWithEditView && !isDisabled);\n\n  var _useState = useState(defaultIsEditing),\n      _useState2 = _slicedToArray(_useState, 2),\n      isEditing = _useState2[0],\n      setIsEditing = _useState2[1];\n\n  var _useControllableState = useControllableState({\n    defaultValue: defaultValue || \"\",\n    value: valueProp,\n    onChange: onChangeProp\n  }),\n      _useControllableState2 = _slicedToArray(_useControllableState, 2),\n      value = _useControllableState2[0],\n      setValue = _useControllableState2[1];\n  /**\n   * Keep track of the previous value, so if users\n   * presses `cancel`, we can revert to it.\n   */\n\n\n  var _useState3 = useState(value),\n      _useState4 = _slicedToArray(_useState3, 2),\n      prevValue = _useState4[0],\n      setPrevValue = _useState4[1];\n  /**\n   * Ref to help focus the input in edit mode\n   */\n\n\n  var inputRef = useRef(null);\n  var previewRef = useRef(null);\n  var editButtonRef = useRef(null);\n  var cancelButtonRef = useRef(null);\n  var submitButtonRef = useRef(null);\n  useFocusOnPointerDown({\n    ref: inputRef,\n    enabled: isEditing,\n    elements: [cancelButtonRef, submitButtonRef]\n  });\n  var isInteractive = !isEditing || !isDisabled;\n  useUpdateEffect(function () {\n    if (!isEditing) {\n      focus(editButtonRef.current);\n      return;\n    }\n\n    focus(inputRef.current, {\n      selectTextIfInput: selectAllOnFocus\n    });\n    onEditProp == null ? void 0 : onEditProp();\n  }, [isEditing, onEditProp, selectAllOnFocus]);\n  var onEdit = useCallback(function () {\n    if (isInteractive) {\n      setIsEditing(true);\n    }\n  }, [isInteractive]);\n  var onCancel = useCallback(function () {\n    setIsEditing(false);\n    setValue(prevValue);\n    onCancelProp == null ? void 0 : onCancelProp(prevValue);\n  }, [onCancelProp, setValue, prevValue]);\n  var onSubmit = useCallback(function () {\n    setIsEditing(false);\n    setPrevValue(value);\n    onSubmitProp == null ? void 0 : onSubmitProp(value);\n  }, [value, onSubmitProp]);\n  var onChange = useCallback(function (event) {\n    setValue(event.target.value);\n  }, [setValue]);\n  var onKeyDown = useCallback(function (event) {\n    var eventKey = normalizeEventKey(event);\n    var keyMap = {\n      Escape: onCancel,\n      Enter: function Enter(event) {\n        if (!event.shiftKey && !event.metaKey) {\n          onSubmit();\n        }\n      }\n    };\n    var action = keyMap[eventKey];\n\n    if (action) {\n      event.preventDefault();\n      action(event);\n    }\n  }, [onCancel, onSubmit]);\n  var isValueEmpty = isEmpty(value);\n  var onBlur = useCallback(function (event) {\n    var relatedTarget = getRelatedTarget(event);\n    var targetIsCancel = contains(cancelButtonRef.current, relatedTarget);\n    var targetIsSubmit = contains(submitButtonRef.current, relatedTarget);\n    var isValidBlur = !targetIsCancel && !targetIsSubmit;\n\n    if (isValidBlur && submitOnBlur) {\n      onSubmit();\n    }\n  }, [submitOnBlur, onSubmit]);\n  var getPreviewProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    var tabIndex = isInteractive && isPreviewFocusable ? 0 : undefined;\n    return _extends({}, props, {\n      ref: mergeRefs(ref, previewRef),\n      children: isValueEmpty ? placeholder : value,\n      hidden: isEditing,\n      \"aria-disabled\": ariaAttr(isDisabled),\n      tabIndex: tabIndex,\n      onFocus: callAllHandlers(props.onFocus, onEdit)\n    });\n  }, [isDisabled, isEditing, isInteractive, isPreviewFocusable, isValueEmpty, onEdit, placeholder, value]);\n  var getInputProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      hidden: !isEditing,\n      placeholder: placeholder,\n      ref: mergeRefs(ref, inputRef),\n      disabled: isDisabled,\n      \"aria-disabled\": ariaAttr(isDisabled),\n      value: value,\n      onBlur: callAllHandlers(props.onBlur, onBlur),\n      onChange: callAllHandlers(props.onChange, onChange),\n      onKeyDown: callAllHandlers(props.onKeyDown, onKeyDown)\n    });\n  }, [isDisabled, isEditing, onBlur, onChange, onKeyDown, placeholder, value]);\n  var getEditButtonProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({\n      \"aria-label\": \"Edit\"\n    }, props, {\n      type: \"button\",\n      onClick: callAllHandlers(props.onClick, onEdit),\n      ref: mergeRefs(ref, editButtonRef)\n    });\n  }, [onEdit]);\n  var getSubmitButtonProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      \"aria-label\": \"Submit\",\n      ref: mergeRefs(submitButtonRef, ref),\n      type: \"button\",\n      onClick: callAllHandlers(props.onClick, onSubmit)\n    });\n  }, [onSubmit]);\n  var getCancelButtonProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({\n      \"aria-label\": \"Cancel\",\n      id: \"cancel\"\n    }, props, {\n      ref: mergeRefs(cancelButtonRef, ref),\n      type: \"button\",\n      onClick: callAllHandlers(props.onClick, onCancel)\n    });\n  }, [onCancel]);\n  return {\n    isEditing: isEditing,\n    isDisabled: isDisabled,\n    isValueEmpty: isValueEmpty,\n    value: value,\n    onEdit: onEdit,\n    onCancel: onCancel,\n    onSubmit: onSubmit,\n    getPreviewProps: getPreviewProps,\n    getInputProps: getInputProps,\n    getEditButtonProps: getEditButtonProps,\n    getSubmitButtonProps: getSubmitButtonProps,\n    getCancelButtonProps: getCancelButtonProps,\n    htmlProps: htmlProps\n  };\n}","map":{"version":3,"sources":["../../src/use-editable.ts"],"names":["props","onChange","onCancel","onSubmit","value","isPreviewFocusable","submitOnBlur","selectAllOnFocus","onEdit","onEditProp","defaultIsEditing","Boolean","startWithEditView","useState","useControllableState","defaultValue","onChangeProp","inputRef","useRef","previewRef","editButtonRef","cancelButtonRef","submitButtonRef","useFocusOnPointerDown","ref","enabled","elements","isInteractive","useUpdateEffect","focus","selectTextIfInput","useCallback","setIsEditing","setValue","onCancelProp","setPrevValue","onSubmitProp","event","onKeyDown","eventKey","normalizeEventKey","keyMap","Escape","Enter","action","isValueEmpty","isEmpty","onBlur","relatedTarget","getRelatedTarget","targetIsCancel","contains","targetIsSubmit","isValidBlur","getPreviewProps","tabIndex","mergeRefs","children","hidden","ariaAttr","onFocus","callAllHandlers","getInputProps","placeholder","disabled","getEditButtonProps","type","onClick","getSubmitButtonProps","getCancelButtonProps","id","isEditing","isDisabled","htmlProps"],"mappings":"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","sourcesContent":["import {\n  useControllableState,\n  useFocusOnPointerDown,\n  useUpdateEffect,\n} from \"@chakra-ui/hooks\"\nimport { EventKeyMap, mergeRefs, PropGetter } from \"@chakra-ui/react-utils\"\nimport {\n  ariaAttr,\n  callAllHandlers,\n  contains,\n  focus,\n  getRelatedTarget,\n  isEmpty,\n  normalizeEventKey,\n} from \"@chakra-ui/utils\"\nimport React, { useCallback, useRef, useState } from \"react\"\n\nexport interface UseEditableProps {\n  /**\n   * The value of the Editable in both edit & preview mode\n   */\n  value?: string\n  /**\n   * The initial value of the Editable in both edit & preview mode\n   */\n  defaultValue?: string\n  /**\n   * If `true`, the Editable will be disabled.\n   */\n  isDisabled?: boolean\n  /**\n   * If `true`, the Editable will start with edit mode by default.\n   */\n  startWithEditView?: boolean\n  /**\n   * If `true`, the read only view, has a `tabIndex` set to `0`\n   * so it can recieve focus via the keyboard or click.\n   * @default true\n   */\n  isPreviewFocusable?: boolean\n  /**\n   * If `true`, it'll update the value onBlur and turn off the edit mode.\n   * @default true\n   */\n  submitOnBlur?: boolean\n  /**\n   * Callback invoked when user changes input.\n   */\n  onChange?: (nextValue: string) => void\n  /**\n   * Callback invoked when user cancels input with the `Esc` key.\n   * It provides the last confirmed value as argument.\n   */\n  onCancel?: (previousValue: string) => void\n  /**\n   * Callback invoked when user confirms value with `enter` key or by blurring input.\n   */\n  onSubmit?: (nextValue: string) => void\n  /**\n   * Callback invoked once the user enters edit mode.\n   */\n  onEdit?: () => void\n  /**\n   * If `true`, the input's text will be highlighted on focus.\n   * @default true\n   */\n  selectAllOnFocus?: boolean\n  /**\n   * The placeholder text when the value is empty.\n   */\n  placeholder?: string\n}\n\n/**\n * React hook for managing the inline renaming of some text.\n *\n * @see Docs https://chakra-ui.com/editable\n */\nexport function useEditable(props: UseEditableProps = {}) {\n  const {\n    onChange: onChangeProp,\n    onCancel: onCancelProp,\n    onSubmit: onSubmitProp,\n    value: valueProp,\n    isDisabled,\n    defaultValue,\n    startWithEditView,\n    isPreviewFocusable = true,\n    submitOnBlur = true,\n    selectAllOnFocus = true,\n    placeholder,\n    onEdit: onEditProp,\n    ...htmlProps\n  } = props\n\n  const defaultIsEditing = Boolean(startWithEditView && !isDisabled)\n\n  const [isEditing, setIsEditing] = useState(defaultIsEditing)\n\n  const [value, setValue] = useControllableState({\n    defaultValue: defaultValue || \"\",\n    value: valueProp,\n    onChange: onChangeProp,\n  })\n\n  /**\n   * Keep track of the previous value, so if users\n   * presses `cancel`, we can revert to it.\n   */\n  const [prevValue, setPrevValue] = useState(value)\n\n  /**\n   * Ref to help focus the input in edit mode\n   */\n  const inputRef = useRef<HTMLInputElement>(null)\n  const previewRef = useRef<any>(null)\n\n  const editButtonRef = useRef<HTMLButtonElement>(null)\n  const cancelButtonRef = useRef<HTMLElement>(null)\n  const submitButtonRef = useRef<HTMLElement>(null)\n\n  useFocusOnPointerDown({\n    ref: inputRef,\n    enabled: isEditing,\n    elements: [cancelButtonRef, submitButtonRef],\n  })\n\n  const isInteractive = !isEditing || !isDisabled\n\n  useUpdateEffect(() => {\n    if (!isEditing) {\n      focus(editButtonRef.current)\n      return\n    }\n\n    focus(inputRef.current, {\n      selectTextIfInput: selectAllOnFocus,\n    })\n\n    onEditProp?.()\n  }, [isEditing, onEditProp, selectAllOnFocus])\n\n  const onEdit = useCallback(() => {\n    if (isInteractive) {\n      setIsEditing(true)\n    }\n  }, [isInteractive])\n\n  const onCancel = useCallback(() => {\n    setIsEditing(false)\n    setValue(prevValue)\n    onCancelProp?.(prevValue)\n  }, [onCancelProp, setValue, prevValue])\n\n  const onSubmit = useCallback(() => {\n    setIsEditing(false)\n    setPrevValue(value)\n    onSubmitProp?.(value)\n  }, [value, onSubmitProp])\n\n  const onChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      setValue(event.target.value)\n    },\n    [setValue],\n  )\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      const eventKey = normalizeEventKey(event)\n\n      const keyMap: EventKeyMap = {\n        Escape: onCancel,\n        Enter: (event) => {\n          if (!event.shiftKey && !event.metaKey) {\n            onSubmit()\n          }\n        },\n      }\n\n      const action = keyMap[eventKey]\n\n      if (action) {\n        event.preventDefault()\n        action(event)\n      }\n    },\n    [onCancel, onSubmit],\n  )\n\n  const isValueEmpty = isEmpty(value)\n\n  const onBlur = useCallback(\n    (event: React.FocusEvent) => {\n      const relatedTarget = getRelatedTarget(event)\n      const targetIsCancel = contains(cancelButtonRef.current, relatedTarget)\n      const targetIsSubmit = contains(submitButtonRef.current, relatedTarget)\n      const isValidBlur = !targetIsCancel && !targetIsSubmit\n\n      if (isValidBlur && submitOnBlur) {\n        onSubmit()\n      }\n    },\n    [submitOnBlur, onSubmit],\n  )\n\n  const getPreviewProps: PropGetter = useCallback(\n    (props = {}, ref = null) => {\n      const tabIndex = isInteractive && isPreviewFocusable ? 0 : undefined\n      return {\n        ...props,\n        ref: mergeRefs(ref, previewRef),\n        children: isValueEmpty ? placeholder : value,\n        hidden: isEditing,\n        \"aria-disabled\": ariaAttr(isDisabled),\n        tabIndex,\n        onFocus: callAllHandlers(props.onFocus, onEdit),\n      }\n    },\n    [\n      isDisabled,\n      isEditing,\n      isInteractive,\n      isPreviewFocusable,\n      isValueEmpty,\n      onEdit,\n      placeholder,\n      value,\n    ],\n  )\n\n  const getInputProps: PropGetter = useCallback(\n    (props = {}, ref = null) => ({\n      ...props,\n      hidden: !isEditing,\n      placeholder,\n      ref: mergeRefs(ref, inputRef),\n      disabled: isDisabled,\n      \"aria-disabled\": ariaAttr(isDisabled),\n      value,\n      onBlur: callAllHandlers(props.onBlur, onBlur),\n      onChange: callAllHandlers(props.onChange, onChange),\n      onKeyDown: callAllHandlers(props.onKeyDown, onKeyDown),\n    }),\n    [isDisabled, isEditing, onBlur, onChange, onKeyDown, placeholder, value],\n  )\n\n  const getEditButtonProps: PropGetter = useCallback(\n    (props = {}, ref = null) => ({\n      \"aria-label\": \"Edit\",\n      ...props,\n      type: \"button\",\n      onClick: callAllHandlers(props.onClick, onEdit),\n      ref: mergeRefs(ref, editButtonRef),\n    }),\n    [onEdit],\n  )\n\n  const getSubmitButtonProps: PropGetter = useCallback(\n    (props = {}, ref = null) => ({\n      ...props,\n      \"aria-label\": \"Submit\",\n      ref: mergeRefs(submitButtonRef, ref),\n      type: \"button\",\n      onClick: callAllHandlers(props.onClick, onSubmit),\n    }),\n    [onSubmit],\n  )\n\n  const getCancelButtonProps: PropGetter = useCallback(\n    (props = {}, ref = null) => ({\n      \"aria-label\": \"Cancel\",\n      id: \"cancel\",\n      ...props,\n      ref: mergeRefs(cancelButtonRef, ref),\n      type: \"button\",\n      onClick: callAllHandlers(props.onClick, onCancel),\n    }),\n    [onCancel],\n  )\n\n  return {\n    isEditing,\n    isDisabled,\n    isValueEmpty,\n    value,\n    onEdit,\n    onCancel,\n    onSubmit,\n    getPreviewProps,\n    getInputProps,\n    getEditButtonProps,\n    getSubmitButtonProps,\n    getCancelButtonProps,\n    htmlProps,\n  }\n}\n\nexport type UseEditableReturn = ReturnType<typeof useEditable>\n"]},"metadata":{},"sourceType":"module"}